{"version":3,"sources":["utils/utils-context.js","services/api.js","pages/QrCodeAuth/index.js","pages/Home/index.js","utils/getPreco.js","components/ListaItensCardapio.js","utils/alertas.js","components/LocalEntrega.js","components/ListaItensCarrinho.js","components/MostraCardapios.js","components/Alarme.js","components/Cardapio.js","components/Apartamentos.js","components/Counter.js","components/ListaHistoricoApartamento.js","components/AdicionaItem.js","components/MostraComanda.js","components/MostraPedidos.js","components/Pedidos.js","components/Informacoes.js","components/ExigirObsEPeriodo.js","components/ExigirObs.js","components/ExigirPeriodo.js","components/Servicos.js","components/ListaNotificacoes.js","components/Notificacoes.js","components/Menu.js","components/Entrar.js","routes.jsx","App.js","store/consummation/Consummation.reducer.js","store/store.js","reportWebVitals.js","index.js"],"names":["getLogin","login","JSON","parse","localStorage","getItem","uuid","setLogin","setItem","stringify","getConta","conta","sistema","setConta","setApartamentoAtual","ap","id","getApartamentoAtual","setCardapioAtual","cardapio","getCardapioAtual","cardapioAtual","error","getMesaAtual","mesa","setMesaAtual","getSuiteAtual","suite","setSuiteAtual","getGrupoAtual","contaEncerrada","console","log","checkout","ativo","data","substr","hora","parts","split","_data","Date","dateFormat1","dt","wd","toString","days","now","date","padTo2Digits","num","padStart","getDate","getMonth","getFullYear","join","formatDate","api","axios","create","baseURL","withCredentials","headers","QrCodeAuth","useParams","setId","colab","history","useHistory","location","useLocation","pathname","indexOf","useState","useEffect","document","title","hotel","get","then","response","push","Home","getPreco","preco","quant","R$","valor","isNaN","Math","round","toLocaleString","style","currency","parseInt","ListaItensCardapio","pesquisa","items","onItemClick","grupo","length","filter","i","contain","a","b","toUpperCase","includes","trim","lenght","descricao","codigo","naPesquisa","tipo","noGrupo","map","item","type","onClick","className","padding","width","float","fontSize","color","maxWidth","nota","SemItensStyle","styled","p","alerta","message","onYes","onNo","onOk","confirmAlert","buttons","label","LocalEntrega","locais","obsMensagemLocal","onLocalizacao","onObservacao","localizacao","onChange","event","target","value","local","placeholder","ListaItensCarrinho","suite_id","onCarrinhoVazio","onFinalizaPedido","total","carrinho","setCarrinho","mensagem","setMensagem","setLocalizacao","obsLocal","mensagemLocalizacao","setMensagemLocalizacao","observacao","setObservacao","isCheckout","mounted","apartamento","url","onEnviarPedidoClick","obrigatorio","localizacaoObrigatoria","post","catch","onCancelarPedidoClick","delete","Painel","NumeroSuite","overflow","href","Itens","onListaVazia","e","index","find","novoCarrinho","slice","concat","prev","quantidade","atendido","localizacaoAtual","texto","obs","MostraCardapios","onCardapioClick","cardapios","setCardapios","c","Container","CardContainer","div","shade","Alarme","Cardapio","busca","setCardapio","buscaCardapio","setBuscaCardapio","buscaGrupo","setBuscaGrupo","produtos","setProdutos","grupos","setGrupos","setGrupo","mostraCarrinho","setMostraCarrinho","cssProduto","setCSSProduto","cssCarrinho","setCSSCarrinho","_grupos","getGrupos","onProdutosClick","onCarrinhoClick","onBuscaCarpadioClick","onGrupoClick","onGrupoSelecionadoClick","g","setGrupoAtual","MostraGrupos","Grupo","BtnGrupo","display","MostraCardapio","setPesquisa","to","SearchBox","MenuCardapio","Apartamentos","apartamentos","setApartamentos","Apartamento","onApartamentoClick","Counter","onUpdate","Contador","ButtonCounter","ListaHistoricoApartamento","setItems","formatarData","dataString","dia","adicionaZero","mes","ano","horas","getHours","minutos","getMinutes","segundos","getSeconds","numero","preencherHistorico","Body","marginBottom","PkProduto","NomeProduto","Preco","Qtde","HrLan","Comanda","AdicionaItem","SitAtual","sort","produto","setMesa","setSuite","adicionado","setAdicionado","setApartamento","imagem","detalheItem","setDetalheItem","buscaApartamentos","setBuscaApartamentos","onVoltarClick","MostraApartamentos","DetalheItem","ImgContainer","src","alt","marginTop","textAlign","listaObs","setListaObs","setQuant","setNota","obterListaObs","q","l","ObsPrato","funcionario","funcionario_id","foto","produto_id","hospede","NrHospede","paraDescricao","paraValor","dadosAp","NomeHospede","MostraComanda","comanda","onPesquisarMesa","onTrocarItemMesa","PesquisaMesa","Total","TrocarMesa","trocar","novaMesa","setNovaMesa","TrocaMesa","ListaItensComanda","trocarMesa","setTrocarMesa","MostraPedidos","pedidos","pedido","ListaItensPedido","Pedidos","setPedidos","nova_mesa","Informacoes","build","opcao","setOpcao","titulo","setTitulo","timer","cpf","status","MenuPrincipal","onPerfilClick","onContaClick","InfoPerfil","InfoFuncionario","InfoHospede","InfoConta","InfoUsers","diarias","extras","taxas","antecipado","saldo","reserva","checkin","TextArea","textarea","Input","input","ExigirObsEPeriodo","props","onChangeDtInicio","onChangeDtFim","onChangeObs","ExigirObs","ExigirPeriodo","Servicos","TIMER","onTimer","setInterval","setTimeout","clearInterval","mudaStatus","dtInicio","dtFim","moment","format","onMudaStatusClick","obterSituacaoUH","dados","PedirObservacao","PedirPeriodo","res","AtualizaStatusSuite","opcoes","status_suites","getCorSituacao","ListaNotificacoes","naSuite","notificacao","naNotificacao","Notificacoes","notificacoes","origin","MenuWINLETOM","perfil","Menu","EntrarWINLETOM","setCPF","Content","disabled","preventDefault","senha","Entrar","Routes","path","exact","App","initial_state","realizado","actionsTypes","consummationReducer","state","action","payload","novoState","novasOrdens","orders","rootReducer","combineReducers","consummations","store","createStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8412942e.chunk.js","sourcesContent":["export function getLogin() {\r\n    var login = JSON.parse(localStorage.getItem('login'));\r\n    if (login == null) return null;\r\n    return login.uuid ? login : null;\r\n}\r\n\r\nexport function setLogin(login) {\r\n    localStorage.setItem('login', JSON.stringify(login));\r\n}\r\n\r\nexport function setColab(colab) {\r\n    localStorage.setItem('colab', (colab ? 'S' : 'N'));\r\n}\r\n\r\nexport function getColab() {\r\n    return localStorage.getItem('colab') === 'S';\r\n}\r\n\r\nexport function getConta() {\r\n    var conta = JSON.parse(localStorage.getItem('conta'));\r\n    if (conta == null) return null;\r\n    return conta.sistema ? conta : null;\r\n}\r\n\r\nexport function setConta(conta) {\r\n    localStorage.setItem('conta', JSON.stringify(conta));\r\n}\r\n\r\nexport function setApartamentoAtual(ap) {\r\n    ap = ap ? ap : {id: 0}\r\n    localStorage.setItem('Apartamento', JSON.stringify(ap));\r\n}\r\n\r\nexport function getApartamentoAtual() {\r\n    const ap = localStorage.getItem('Apartamento');\r\n    return ap == null ? {id: 0} : JSON.parse(ap);\r\n}\r\n\r\nexport function gravaCardapios(cardapios) {\r\n    console.log('gravando cardapios:', cardapios)\r\n    localStorage.setItem('CARDAPIOS', JSON.stringify(cardapios));\r\n}\r\n\r\nexport function recuperaCardapios() {\r\n    return JSON.parse(localStorage.getItem('CARDAPIOS'));\r\n}\r\n\r\nexport function setCardapioAtual(cardapio) {\r\n    cardapio = cardapio ? cardapio : {id: 0}\r\n    localStorage.setItem('Cardapio', JSON.stringify(cardapio));\r\n}\r\n\r\nexport function getCardapioAtual() {\r\n    const cardapioAtual = {id: 0}\r\n    try {\r\n        var cardapio = localStorage.getItem('Cardapio');\r\n        cardapio = cardapio == null ? cardapioAtual : JSON.parse(cardapio);\r\n        return cardapio;\r\n    } catch (error) {\r\n        return cardapioAtual\r\n    }\r\n}\r\n\r\nexport function getMesaAtual() {\r\n    const mesa = localStorage.getItem('mesa');\r\n    return  mesa === null ? '' : mesa;\r\n}\r\n\r\nexport function setMesaAtual(mesa) {\r\n    localStorage.setItem('mesa', mesa === null ? '' : mesa);\r\n}\r\n\r\nexport function getSuiteAtual() {\r\n    const suite = getApartamentoAtual().id > 0 ? \r\n        getApartamentoAtual().id \r\n        : localStorage.getItem('suite');\r\n    return  suite === null ? '' : suite;\r\n}\r\n\r\nexport function setId(id) {\r\n    localStorage.setItem('id', id);\r\n}\r\n\r\nexport function getId() {\r\n    return localStorage.getItem('id');\r\n}\r\n\r\nexport function setSuiteAtual(suite) {\r\n    localStorage.setItem('suite', suite === null ? '' : suite);\r\n}\r\n\r\nexport function getGrupoAtual() {\r\n    return localStorage.getItem('grupo');\r\n}\r\n\r\nexport function setGrupoAtual(grupo) {\r\n    localStorage.setItem('grupo', grupo);\r\n}\r\n\r\nexport function contaEncerrada(login) {\r\n    console.log('contaEncerrada.login.checkout:', login.checkout);\r\n    if (!login.checkout) return false;\r\n    const conta = getConta();\r\n    if (conta.ativo === 'N') return true;\r\n    const data = login.checkout.substr(0, 10);\r\n    const hora = login.checkout.substr(11);\r\n    const parts = data.split('/');\r\n    const _data = parts[2] + '-' + parts[1] + '-' + parts[0] + ' ' + hora;\r\n    return ( (new Date()) >= (new Date(_data)))\r\n}\r\n\r\nexport function getHost() {\r\n   //return 'http://localhost:8000'; // desenvolvimento\r\n   return 'https://api.mde.com.br:8080'; // produção\r\n   //return 'http://api2.mde.com.br:9091'; \r\n}\r\n\r\nexport function dateFormat1(data) {\r\n    \r\n    function formatDate(date) {\r\n        function padTo2Digits(num) {\r\n            return num.toString().padStart(2, '0');\r\n        }\r\n        return [\r\n            padTo2Digits(date.getDate()),\r\n            padTo2Digits(date.getMonth() + 1),\r\n            date.getFullYear(),\r\n        ].join('/');\r\n    }\r\n\r\n    const weekDays = { \r\n        'Sun': 'DOMINGO', \r\n        'Mon': 'SEGUNDA-FEIRA', \r\n        'Tue': 'TERÇA-FEIRA', \r\n        'Wed': 'QUARTA-FEIRA', \r\n        'Thu': 'QUINTA-FEIRA', \r\n        'Fri': 'SEXTA-FEIRA', \r\n        'Sat': 'SÁBADO' \r\n    };\r\n\r\n    const dt = new Date(data);\r\n    const wd = (dt).toString().substr(0, 3);\r\n    const days = Date.now() - Date.parse(data);\r\n\r\n    if (days === 0) return 'HOJE';\r\n    if (days === 1) return 'ONTEM';\r\n    if (days < 7) return weekDays[wd];\r\n\r\n    return formatDate(dt);\r\n}\r\n","import axios from 'axios';\r\nimport { getHost } from '../utils/utils-context';\r\n\r\nconst api = axios.create({\r\n    //baseURL: 'http://localhost:8000',\r\n    baseURL: getHost(),\r\n    withCredentials: false,\r\n    headers: { \r\n      'Access-Control-Allow-Origin' : '*',\r\n      'Access-Control-Allow-Methods' : 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\r\n    },  \r\n})\r\n\r\nexport default api;\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport QrReader from 'react-qr-reader';\r\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\r\nimport { setConta, getConta, setLogin, getLogin, setColab, getHost, getId, setId } from '../../utils/utils-context';\r\n\r\nimport api from \"../../services/api\";\r\n\r\nimport '../../styles/qrCode.css';\r\n\r\n//import hotellogo from '../../assets/hotellogo.png';\r\n\r\nfunction QrCodeAuth() {\r\n\r\n\tlet { id } = useParams();\r\n\t\r\n\tif (id) setId(id);\r\n\telse id = getId();\r\n\r\n\tconsole.log('id:', id);\r\n\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\t\r\n\tsetColab(location.pathname.indexOf('/login') !== -1);\r\n\r\n\tconst [result, setResult] = useState(\"Aponte a câmera do seu celular para o QR CODE\");\r\n\r\n\tconst [login] = useState(getLogin());\r\n\r\n\tconst handleScan = code => {\r\n\t\tif (code) {\r\n\t\t\tapi.get(`/api/order/info/${code}`).then(response => {\r\n\t\t\t\tconsole.log('Conta:', response.data);\r\n\t\t\t\tsetConta(response.data);\r\n\t\t\t\tsetLogin(null);\r\n\t\t\t\thistory.push({ pathname: `/home/${code}` });\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleError = err => {\r\n\t\tconsole.log(\"ERROR:\", err);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst conta = getConta();\r\n\r\n\t\tconsole.log('QrCodeAuth.login:', login, id, conta);\r\n\t\t\r\n\t\tdocument.title = conta ? conta.hotel : 'MDE Pedidos';\r\n\r\n\t\tif (login == null || login.uuid !== id) {\r\n\r\n\t\t\tconsole.log('getHost:', getHost());\r\n\t\t\t\r\n\t\t\tapi.get(`/api/order/info/${id}`).then(response => {\r\n\t\t\t\tconsole.log('Conta:', response.data);\r\n\t\t\t\tsetConta(response.data);\r\n\t\t\t\tsetLogin(null);\r\n\t\t\t\thistory.push({ pathname: `/home/${id}/${Date.now()}` });\r\n\t\t\t});\t\t\r\n\t\r\n\t\t} else {\r\n\r\n\t\t\thistory.push({ pathname: `/menu/${id}/${Date.now()}` });\r\n\r\n\t\t}\r\n\r\n\t},[]);\r\n\r\n\t//handleScan('e7886e3d-c81c-4829-8a57-7768d8148754'); // WinResta\r\n\t//handleScan('d88b870b-5ac4-4836-9c31-47d91f94e648'); // WinLetoh\r\n\t//return('d88b870b-5ac4-4836-9c31-47d91f94e650'); // WinLetom\r\n\treturn ('');\r\n\r\n\treturn (\r\n\t\t<div id=\"qrCode\">\r\n\t\t\t<p style={{ fontSize: 28, paddingTop: '30px' }}>Seja bem-vindo(a)</p>\r\n\t\t\t<div className=\"qrContent\">\r\n\t\t\t\t<QrReader\r\n\t\t\t\t\tdelay={300}\r\n\t\t\t\t\tonError={handleError}\r\n\t\t\t\t\tonScan={handleScan}\r\n\t\t\t\t\tstyle={{ width: '80%', paddingTop: '20px', maxWidth: '300px' }}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<p style={{ \r\n\t\t\t\t\tborderRadius:'15px', \r\n\t\t\t\t\tposition: 'static', \r\n\t\t\t\t\tbackground: '#3E3B47', \r\n\t\t\t\t\tmargin:'10%', \r\n\t\t\t\t\tpadding: '10%', \r\n\t\t\t\t\tcolor: '#F4EDE8', \r\n\t\t\t\t\tdisplay: 'flex', \r\n\t\t\t\t\talignItems: 'center', \r\n\t\t\t\t\tjustifyContent: \"center\" }}>\r\n\t\t\t\t\t\t{result}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default QrCodeAuth;\r\n\r\n/*\r\n\t<div className=\"hotelContent\">\r\n\t\t<img src={hotellogo} alt=\"Hotel\" />\r\n\t\t<p style={{ color: '#F4EDE8', fontSize: '20px', fontSize: '5vw' }}>Hotel Fradíssimo</p>\r\n\t</div>\r\n*/\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { getLogin } from '../../utils/utils-context';\r\n\r\nexport default function Home() {\r\n  \r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [login] = useState(getLogin());\r\n\r\n  useEffect(() => {\r\n      if (login == null) history.push({ pathname: `/entrar/${id}/${Date.now()}` });\r\n      else history.push({ pathname: `/menu/${id}/${Date.now()}` });\r\n    },[]);\r\n\r\n  return '';\r\n\r\n}\r\n","\r\nexport default function getPreco(preco, quant = 1) {\r\n    function R$(valor) {\r\n        valor = isNaN(valor) ? 0 : Math.round(valor * 100) / 100;\r\n        return (valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }));\r\n    }\r\n    quant = parseInt(quant);\r\n    return ( quant === 1 ? R$(preco) : R$(preco) + ' x ' + quant + ' = ' + R$(preco * quant));\r\n}","//import '../styles/Requests.css';\r\nimport getPreco from '../utils/getPreco';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ListaItensCardapio({pesquisa, items, onItemClick, grupo}) {\r\n    \r\n    const renderSemItens = () => (        \r\n        <SemItensStyle>Sem itens!</SemItensStyle>        \r\n        )\r\n\r\n    if (!items || items.length === 0) return renderSemItens();\r\n\r\n    const busca = items.filter((i) => {\r\n        \r\n        function naPesquisa(i) {\r\n            function contain(a, b) { return a.toUpperCase().includes(b.toUpperCase())}\r\n            if (pesquisa.trim().lenght === 0) return true;\r\n            return contain(i.descricao, pesquisa) || contain(i.codigo, pesquisa);\r\n        }\r\n\r\n        function noGrupo(i) {\r\n            return i.tipo == grupo;\r\n        }\r\n\r\n        return naPesquisa(i) && noGrupo(i);\r\n\r\n    });\r\n\r\n    return busca.map(item => \r\n        <div type=\"button\" \r\n            onClick={() => onItemClick(item)} \r\n            key={item.id} \r\n            className=\"products\">\r\n            <div style={{padding: '10px', width: '100%'}}>\r\n                <div>\r\n                    <div style={{float:'left', width: '70%'}}>\r\n                        <p style={{fontSize:14, color:'#a2a276'}}>Nº {item.codigo}</p>\r\n                        <p style={{color:'#3fe799', fontSize:16, maxWidth: 190}}>{item.descricao}</p>\r\n                    </div>\r\n                    <div style={{float:'right'}}>\r\n                        <p style={{fontSize:18}}>{getPreco(item.preco)}</p>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <p style={{fontSize:14, width: '200px'}}>{item.nota}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst SemItensStyle = styled.p`\r\n    display: flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    font-size: 25px;\r\n`;\r\n\r\n/*\r\n    <div className=\"products-image\">\r\n        <img className=\"product-img\" src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${item.foto}`} alt=\"\"/>\r\n    </div>                \r\n*/","import { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; \r\n\r\nexport default function alerta({title, message, onYes, onNo, onOk}) {\r\n\r\n    if (!onYes && !onNo) {\r\n\r\n      confirmAlert({\r\n        title: title,\r\n        message: message,\r\n        buttons: [\r\n          {\r\n            label: 'OK',\r\n            onClick: () => {\r\n              if (typeof onOk === \"function\") onOk();\r\n            }\r\n          }\r\n        ]\r\n      });\r\n  \r\n      return;\r\n    }\r\n\r\n    confirmAlert({\r\n        title: title,\r\n        message: message,\r\n        buttons: [\r\n          {\r\n            label: 'SIM',\r\n            onClick: () => {\r\n                 if (typeof onYes === \"function\") onYes();\r\n            }\r\n          },{\r\n            label: 'NÃO',\r\n            onClick: () =>{\r\n                if (typeof onNo === \"function\") onNo();\r\n            }\r\n          }\r\n        ]\r\n    });\r\n\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport default function LocalEntrega({cardapio, locais, obsMensagemLocal, onLocalizacao, onObservacao}) {\r\n    //if (locais.length < 2) return '';\r\n    if (cardapio.localizacao === '0') return '';\r\n\r\n    return (\r\n\r\n        <div className=\"box_localizacao\">\r\n            <span>Sua Localização</span>\r\n            <select onChange={(event) => {onLocalizacao(event.target.value)}}> \r\n                {\r\n                    locais.map(local =>\r\n                        <option  \r\n                            key={local.codigo} \r\n                            value={local.codigo}>{local.descricao}\r\n                        </option>\r\n                    )\r\n                }\r\n            </select>\r\n            <textarea \r\n                type=\"text\" \r\n                placeholder={obsMensagemLocal}\r\n                onChange={(event) => {onObservacao(event.target.value)}} />\r\n        </div>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\n//import '../styles/Requests.css';\r\nimport getPreco from '../utils/getPreco'\r\nimport alerta from '../utils/alertas';\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport {\r\n    getLogin, getMesaAtual, setLogin,\r\n    setMesaAtual, getConta, contaEncerrada,\r\n    getCardapioAtual, getSuiteAtual, setApartamentoAtual, getApartamentoAtual\r\n} from '../utils/utils-context';\r\n\r\nimport LocalEntrega from './LocalEntrega';\r\n\r\nexport default function ListaItensCarrinho({suite_id, onCarrinhoVazio, onFinalizaPedido}) {\r\n\r\n    const history = useHistory();\r\n    const [carrinho, setCarrinho] = useState({items: [], total: 0});\r\n    const [mensagem, setMensagem] = useState('Aguarde...');\r\n    const [login] = useState(getLogin());\r\n    const [mesa] = useState(\r\n        getLogin().suite_id ? null : getMesaAtual()\r\n    );\r\n\r\n    const [suite, setSuite] = useState(getSuiteAtual());\r\n\r\n    const [locais] = useState(getConta()['locais_entrega']);\r\n    const [cardapio] = useState(getCardapioAtual());\r\n\r\n    const [localizacao, setLocalizacao] = useState(\r\n        getConta()['locais_entrega'] ? getConta()['locais_entrega'][0] : ''\r\n    );\r\n\r\n    const [conta] = useState(getConta());\r\n\r\n    const [mensagemLocalizacao, setMensagemLocalizacao] = useState(conta.obsLocal);\r\n\r\n    const [observacao, setObservacao] = useState('');\r\n\r\n    const isCheckout = () => {\r\n        if (contaEncerrada(login)) {\r\n            setLogin(null);\r\n            history.push({pathname: `/${login.uuid}`});\r\n            return true;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (isCheckout()) return;\r\n\r\n        let mounted = true;\r\n\r\n        if (!suite_id && !mesa && !suite) {\r\n            setMensagem('Sem ítens!');\r\n            return;\r\n        }\r\n\r\n        // let url = '';\r\n\r\n        const apartamento = getApartamentoAtual();\r\n\r\n        const ap = login.suite ?? apartamento.id;\r\n\r\n        const url = `/api/order/cart/${login.uuid}/${ap}`;\r\n\r\n        //if (suite_id || suite) {\r\n        //    url = `/api/order/cart/${login.uuid}/${suite_id || suite}`;\r\n        //} else {\r\n        //    url = `/api/order/cart/waiter/${mesa}`;\r\n        //} \r\n\r\n        //let url = '/api/order/cart/' + (suite_id ? '' : ('waiter/' + login.uuid + '/')) + (suite_id ?? mesa);\r\n\r\n        api.get(url).then(response => {\r\n\r\n            if (!mounted) return;\r\n\r\n            setCarrinho(response.data);\r\n\r\n            setMensagem(\r\n                response.data.items.length > 0 ? null : 'Sem ítens!'\r\n            );\r\n\r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    }, [mesa, suite_id]);\r\n\r\n    const onItemClick = (item) => {\r\n\r\n        if (isCheckout()) return;\r\n\r\n        //let url = '';\r\n\r\n        const apartamento = getApartamentoAtual();\r\n        const ap = login.suite ?? apartamento.id;\r\n        const url = `/api/order/cart/${login.uuid}/${ap}/${item.id}`;\r\n\r\n        //if (suite_id || suite)\r\n        //    url = `/api/order/cart/${login.uuid}/${suite_id || suite}/${item.id}`;\r\n        //else \r\n        //    url = `/api/order/cart/waiter/${mesa}/${item.id}`;\r\n\r\n        //let url = '/api/order/cart/' + (suite_id ? '' : ('waiter/' + login.uuid + '/')) + (suite_id ?? mesa);\r\n\r\n        alerta({\r\n            title: 'Atenção!',\r\n            message: 'Excluir esse ítem?',\r\n            onYes: () => {\r\n                api.delete(url).then(response => {\r\n                    if (response.data.total === 0)\r\n                        setMesaAtual(null);\r\n                    setCarrinho(response.data);\r\n                }).catch(e => {\r\n                    const index = carrinho.items.indexOf(carrinho.items.find(i => i.id === item.id))\r\n                    const novoCarrinho = index !== -1 ? carrinho.items.slice(0, index).concat(carrinho.items.slice(index + 1)) : carrinho.items\r\n                    setCarrinho(prev => ({\r\n                        total: prev.total - item.preco,\r\n                        items: novoCarrinho\r\n                    }))\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    const isValid = () => {\r\n\r\n        function localizacaoObrigatoria(localizacao) {\r\n            if (!localizacao.obrigatorio) return false;\r\n            return localizacao.obrigatorio.toUpperCase() == 'S';\r\n        }\r\n\r\n        if (localizacaoObrigatoria(localizacao) && observacao.trim() === '') {\r\n            alerta({\r\n                title: 'Atenção!',\r\n                message: 'Informe detalhes de sua localização!'\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const onEnviarPedidoClick = () => {\r\n\r\n        if (isCheckout() || !isValid()) return;\r\n\r\n        const apartamento = getApartamentoAtual();\r\n        const ap = login.suite ?? apartamento.id;\r\n\r\n        alerta({\r\n            title: 'Atenção!',\r\n            message: 'Enviar esse pedido?',\r\n            onYes: () => {\r\n                api.post('/api/order/cart', {\r\n                    suite_id: ap, //suite ?? suite_id,\r\n                    mesa: mesa,\r\n                    localizacao: localizacao,\r\n                    observacao: observacao,\r\n                    uuid: login.uuid\r\n                }).then(\r\n                    response => {\r\n                        setApartamentoAtual(null);\r\n                        setCarrinho(response.data);\r\n                        setMesaAtual(null);\r\n                        onCarrinhoVazio();\r\n                        onFinalizaPedido();\r\n                    }\r\n                ).catch(() => {\r\n                    setApartamentoAtual(null);\r\n                    //setCarrinho(response.data);\r\n                    setMesaAtual(null);\r\n                    onCarrinhoVazio();\r\n                    onFinalizaPedido();\r\n                });\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    const onLocalizacao = (local) => {\r\n\r\n        const localizacaoAtual = locais.filter((item) => {\r\n            return local === item.codigo;\r\n        })[0];\r\n\r\n        setLocalizacao(localizacaoAtual);\r\n\r\n        const texto = localizacaoAtual.texto ? localizacaoAtual.texto : conta.obsLocal ? conta.obsLocal : '';\r\n\r\n        setMensagemLocalizacao(texto);\r\n\r\n    }\r\n\r\n    const onObservacao = (obs) => {\r\n        setObservacao(obs);\r\n    }\r\n\r\n    /*\r\n        const onTrocarMesa = (mesa) => {\r\n            setMesa(mesa);\r\n        }\r\n\r\n        const onTrocarMesaClick = () => {\r\n            setTrocarMesa(true);\r\n        }\r\n    */\r\n\r\n    const onCancelarPedidoClick = () => {\r\n\r\n        if (isCheckout()) return;\r\n\r\n        const apartamento = getApartamentoAtual();\r\n        const ap = login.suite ?? apartamento.id;\r\n        const url = `/api/order/cart/${login.uuid}/${ap}`;\r\n\r\n        //let url = '';\r\n        //if (suite_id || suite)\r\n        //    url = `/api/order/cart/${login.uuid}/${suite_id || suite}`;\r\n        //else \r\n        //    url = `/api/order/cart/waiter/${mesa}`;\r\n\r\n        //let url = '/api/order/cart/' + (mesa ? ('waiter/' + login.uuid + '/') : '') + (mesa ?? suite_id);\r\n\r\n        alerta({\r\n            title: 'Atenção!',\r\n            message: 'Cancela o pedido?',\r\n            onYes: () => {\r\n                api.delete(`${url}/todos`).then(\r\n                    response => {\r\n                        setCarrinho(response.data);\r\n                        setApartamentoAtual(null);\r\n                        setMesaAtual(null);\r\n                        onCarrinhoVazio();\r\n                        onFinalizaPedido();\r\n                    }\r\n                )\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    const Painel = ({total}) => {\r\n\r\n        const NumeroMesa = ({mesa}) => {\r\n            if (!mesa) return '';\r\n            return (\r\n                <div className=\"numero-mesa\">Mesa: {mesa}</div>\r\n            );\r\n        }\r\n\r\n        const NumeroSuite = ({suite}) => {\r\n\r\n            const apartamento = getApartamentoAtual();\r\n            const ap = login.suite ?? apartamento.id;\r\n\r\n            //if (!suite) return '';\r\n            return (\r\n                <div className=\"numero-mesa\">Suite: {ap}</div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"container-product-info\">\r\n\r\n                <div style={{overflow: 'hidden'}}>\r\n                    <div className=\"total-carrinho\">Total: {getPreco(total)}</div>\r\n                    <NumeroSuite suite={suite}/>\r\n                </div>\r\n\r\n                <a className=\"fecha-pedido\" href=\"#\" onClick={onEnviarPedidoClick}\r\n                   style={{color: 'white'}}>\r\n                    Enviar Pedido\r\n                </a>\r\n\r\n                <a className=\"cancela-pedido\" href=\"#\" onClick={onCancelarPedidoClick}\r\n                   style={{color: 'white'}}>\r\n                    Cancelar Pedido\r\n                </a>\r\n\r\n                <br/>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const Itens = ({items, onListaVazia}) => {\r\n\r\n        if (items.length === 0) {\r\n            onListaVazia();\r\n            return '';\r\n        }\r\n\r\n        return (\r\n            items.map(item =>\r\n                <div type=\"button\"\r\n                     onClick={() => onItemClick(item)}\r\n                     key={item.id}\r\n                     className=\"products\">\r\n                    <div style={{padding: '10px'}}>\r\n                        <p style={{fontSize: 14, color: '#a2a276'}}>Nº {item.codigo}</p>\r\n                        <p style={{color: '#3fe799', fontSize: 16, maxWidth: 200}}>{item.descricao}</p>\r\n                        <p style={{fontSize: 14, width: 300}}>{item.nota}</p>\r\n                        <p style={{fontSize: 18}}>\r\n                            <span style={{color: '#8c8c8c'}}>{getPreco(item.preco, item.quantidade)}</span>\r\n                        </p>\r\n                        {\r\n                            item.atendido ? '' : <p className=\"toque\" style={{fontSize: 14}}>Toque para excluir</p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            )\r\n        )\r\n\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                mensagem ? (\r\n\r\n                    <SemItensStyle>{mensagem}</SemItensStyle>\r\n\r\n                ) : (\r\n\r\n                    <div>\r\n\r\n                        <Itens\r\n                            items={carrinho.items}\r\n                            onListaVazia={\r\n                                () => {\r\n                                    setMensagem('Sem ítens!')\r\n                                }\r\n                            }/>\r\n\r\n                        <LocalEntrega\r\n                            cardapio={cardapio}\r\n                            locais={locais}\r\n                            obsMensagemLocal={mensagemLocalizacao}\r\n                            onLocalizacao={onLocalizacao}\r\n                            onObservacao={onObservacao}/>\r\n\r\n                        <Painel total={carrinho.total}/>\r\n\r\n                    </div>\r\n\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SemItensStyle = styled.p`\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 25px;\r\n`;\r\n\r\n/*\r\n                    <div className=\"products-image\">\r\n                        <img className=\"product-img\" src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${item.foto}`} alt=\"\"/>\r\n                    </div>\r\n\r\n*/\r\n","import React, { useEffect, useState } from 'react';\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { \r\n    setLogin,\r\n    getLogin,\r\n    contaEncerrada\r\n} from '../utils/utils-context';\r\n\r\nexport default function MostraCardapios({id, onCardapioClick}) {\r\n\r\n    const history = useHistory();\r\n    const [ cardapios, setCardapios ] = useState([]);\r\n    const [ login ] = useState(getLogin());\r\n    \r\n    useEffect(() => {\r\n    \r\n        let mounted = true;\r\n\r\n        api.get(`/api/cardapios/${id}`).then(response => {\r\n\r\n            if (!mounted) return;\r\n\r\n            if (contaEncerrada(login)) {\r\n                setLogin(null);\r\n                history.push({ pathname: `/${id}` });\r\n                return;\r\n            }\r\n    \r\n            console.log('Cardapios:', response.data);\r\n\r\n            setCardapios(\r\n                response.data.filter((c) => {\r\n                    if (login.cardapios == \"0\") return true; // funcionários e hóspedes\r\n                    return login.cardapios.indexOf(c.id) !== -1;\r\n                })\r\n            );\r\n\r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    }, []);\r\n    \r\n    /*\r\n                cardapios.map(cardapio =>\r\n                    <CardContainer id={cardapio.id}>\r\n                        <a href=\"#\" \r\n                            onClick={() => onCardapioClick(cardapio)} \r\n                            className=\"requests\">{cardapio.descricao}\r\n                        </a>\r\n                    </CardContainer>\r\n                )\r\n    */\r\n\r\n    return (\r\n            <Container>\r\n                {\r\n                cardapios.map(cardapio =>\r\n                        <CardContainer key={cardapio.id} id={cardapio.id}>\r\n                            <a href=\"#\" \r\n                                onClick={() => onCardapioClick(cardapio)} \r\n                                className=\"requests\">{cardapio.descricao}\r\n                            </a>\r\n                        </CardContainer>\r\n                    )\r\n                }\r\n            </Container>\r\n    )\r\n    \r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 80vh;\r\n  width: 350px;\r\n  margin-top: 20px;\r\n  `;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin-top: 20px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 26px;\r\n    }\r\n    \r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getHost, getLogin } from '../utils/utils-context';\r\nimport api from '../services/api';\r\nimport alerta from '../utils/alertas';\r\n\r\nconst url = `${getHost()}/api/som/ding`;\r\n\r\nconst useAudio = () => {\r\n  const [audio] = useState(new Audio(url));\r\n  const [playing, setPlaying] = useState(false);\r\n\r\n  const toggle = () => setPlaying(!playing);\r\n\r\n  useEffect(() => {\r\n      playing ? audio.play() : audio.pause();\r\n    },\r\n    [playing]\r\n  );\r\n\r\n  useEffect(() => {\r\n    audio.addEventListener('ended', () => setPlaying(false));\r\n    return () => {\r\n      audio.removeEventListener('ended', () => setPlaying(false));\r\n    };\r\n  }, []);\r\n\r\n  return [playing, toggle];\r\n\r\n};\r\n\r\nexport default function Alarme() {\r\n  return '';\r\n}\r\nfunction Alarme2() {\r\n\r\n  const [playing, toggle] = useAudio();\r\n  const [login] = useState(getLogin());\r\n\r\n  var TIMER;\r\n\r\n  var showingDialog = false;\r\n\r\n  useEffect(() => { \r\n    \r\n    let mounted = true;\r\n    \r\n    TIMER = setInterval(function(){\r\n        if (!mounted) return;\r\n        \r\n        onTimer();\r\n\r\n    }, 5000);\r\n\r\n    return function cleanup() {\r\n        \r\n        mounted = false;\r\n\r\n        setTimeout(() => {\r\n            clearInterval(TIMER);\r\n            TIMER = null;\r\n        }, 1000);\r\n\r\n    }\r\n\r\n  },[]);\r\n\r\n  const notifyAlarmReceived = (alarm) => {\r\n    api.post(`/api/alarm/${login.uuid}/${alarm.suite}/${alarm.funcionario}`).then(response => {\r\n    });\r\n  }\r\n  \r\n  const getEmployee = (alarm) => {\r\n    if (alarm.funcionario == 0) return '';\r\n    return alarm.nome.trim().toUpperCase() + ', ';\r\n  };\r\n\r\n  const getMessage = (alarm) => {\r\n    return  alarm.mensagem.toLowerCase();\r\n  };\r\n\r\n  const showAlarmDialog = (alarm) => {\r\n    showingDialog = true;\r\n    const message = getEmployee(alarm) + getMessage(alarm);\r\n    toggle();\r\n    alerta({ \r\n      title: alarm.suite > 0 ? `Suíte ${alarm.suite}` : 'Atenção!',\r\n      message: message,\r\n      onOk: () => {\r\n        showingDialog = false;\r\n        notifyAlarmReceived(alarm);\r\n      }\r\n    });    \r\n  }\r\n\r\n  const isAlarmForMe = (alarm) => {\r\n    return (alarm.funcionario == login.funcionario_id) || (alarm.funcionario == 0);\r\n  }\r\n\r\n  const onTimer = () => {\r\n\r\n    if (showingDialog) {\r\n      toggle();\r\n      return;\r\n    }\r\n\r\n    api.get(`/api/alarms/${login.uuid}`).then(response => {\r\n      const alarms = response.data;\r\n      for (var i = alarms.length; i--;) {\r\n        var alarm = alarms[i];\r\n        if (isAlarmForMe(alarm)) {\r\n          showAlarmDialog(alarm);\r\n          return;\r\n        }\r\n      }\r\n    });    \r\n\r\n  }\r\n  \r\n  return '';\r\n\r\n}\r\n\r\n\r\n  ","import React, { useEffect, useState } from 'react';\r\nimport { BsHouseDoor, BsChevronDown } from \"react-icons/bs\";\r\nimport { Link, useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\n\r\nimport api from '../services/api';\r\n\r\nimport ListaItensCardapio from './ListaItensCardapio';\r\nimport ListaItensCarrinho from './ListaItensCarrinho';\r\nimport MostraCardapios from './MostraCardapios';\r\nimport Alarme from './Alarme';\r\n\r\n//import '../styles/product.css';\r\n\r\nimport { \r\n    setLogin,\r\n    getLogin,\r\n    getGrupoAtual, \r\n    getCardapioAtual, \r\n    setCardapioAtual,\r\n    contaEncerrada, \r\n    setGrupoAtual} from '../utils/utils-context';\r\n\r\nexport default function Cardapio() {\r\n\r\n    const { id } = useParams();\r\n\r\n    const history = useHistory();\r\n    \r\n    const [login] = useState(getLogin());\r\n    \r\n    const { busca } = useLocation();\r\n\r\n    const [ cardapio, setCardapio ] = useState(getCardapioAtual());\r\n    \r\n    const [ buscaCardapio, setBuscaCardapio ] = useState(cardapio.id === 0);\r\n\r\n    const [ buscaGrupo, setBuscaGrupo ] = useState(busca);\r\n    \r\n    //const [items, setItems]       = useState();\r\n    const [produtos, setProdutos] = useState([]);\r\n    const [servicos, setServicos] = useState([]);\r\n    const [grupos, setGrupos] = useState([]);\r\n    const [grupo, setGrupo] = useState(getGrupoAtual());\r\n\r\n    const [ mostraCarrinho, setMostraCarrinho ] = useState(false);\r\n\r\n    const [ cssProduto, setCSSProduto ] = useState(mostraCarrinho ? 'btnProdutos': 'btnProdutosClicked');\r\n    const [ cssCarrinho, setCSSCarrinho ] = useState(mostraCarrinho ? 'btnCarrinhoClicked' : 'btnCarrinho');\r\n\r\n    useEffect(() => {\r\n\r\n        //setBuscaGrupo(true);\r\n\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n        \r\n        if (cardapio.id === 0) return;\r\n        \r\n        if (contaEncerrada(login)) {\r\n            setLogin(null);\r\n            history.push({ pathname: `/${id}` });\r\n            return;\r\n        }\r\n    \r\n        let mounted = true;\r\n        \r\n        api.get(`/api/order/products/${login.uuid}/${cardapio.id}`).then(response => {\r\n\r\n            const getGrupos = (items) => {\r\n                const grupos = [];\r\n                for (var i in items) {\r\n                    if (grupos.includes(items[i].tipo)) continue;\r\n                    grupos.push(items[i].tipo);\r\n                }\r\n                return grupos;\r\n            }\r\n\r\n            if (!mounted) return;\r\n\r\n            setProdutos(response.data);\r\n            \r\n            const _grupos = getGrupos(response.data);\r\n\r\n            setGrupos(_grupos);\r\n            setGrupo(getGrupoAtual());\r\n            \r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    }, [cardapio]);\r\n    \r\n    //[items, cardapio]);\r\n\r\n    const setProdutoClicked = () => {\r\n        setCSSProduto('btnProdutosClicked');\r\n        setCSSCarrinho('btnCarrinho');\r\n    }\r\n\r\n    const setCarrinhoClicked = () => {\r\n        setCSSCarrinho('btnCarrinhoClicked');\r\n        setCSSProduto('btnProdutos');\r\n    }\r\n\r\n    const onProdutosClick = () => {\r\n        //setItems(produtos);\r\n        setMostraCarrinho(false);\r\n        setProdutoClicked();\r\n    }\r\n\r\n    /*\r\n    const onServicosClick = () => {\r\n        setItems(servicos);\r\n        setMostraCarrinho(false);\r\n    }\r\n    */\r\n\r\n    const onCarrinhoClick = () => {\r\n        setMostraCarrinho(true);\r\n        setCarrinhoClicked();\r\n    }\r\n  \r\n    const onItemClick = (item) =>{\r\n        history.push({ pathname: `/adiciona/${id}`, item: item });        \r\n    }\r\n\r\n    const onMenuClick = () => {\r\n        history.push({ pathname: `/menu/${id}` });\r\n    }\r\n\r\n    const onCardapioClick = (cardapio) => {\r\n        setBuscaCardapio(false);\r\n        setCardapioAtual(cardapio);\r\n        setCardapio(cardapio);\r\n        setBuscaGrupo(true);\r\n    }\r\n\r\n    const onBuscaCarpadioClick = () => {\r\n        setBuscaCardapio(true);\r\n    }\r\n\r\n    /*\r\n        <Link to='#' style={{color:'white', padding: '10px', textDecoration: 'none'}} onClick={onServicosClick}>Serviços</Link>\r\n    */\r\n\r\n    const onGrupoClick = () => {\r\n        setBuscaGrupo(true);\r\n    }\r\n\r\n    const onGrupoSelecionadoClick = (g) => {\r\n        setGrupo(g);\r\n        setGrupoAtual(g);\r\n        setBuscaGrupo(false);\r\n    }\r\n\r\n    const onFinalizaPedido = () => {\r\n        setBuscaCardapio(true);\r\n    }\r\n\r\n    const MostraGrupos = () => {\r\n        return (\r\n            <Grupo>\r\n                <Alarme />\r\n                {\r\n                    grupos.map((g, i) => \r\n                        <div>\r\n                            <a className=\"botao-seleciona-grupo\" \r\n                                key={i}\r\n                                href=\"#\" \r\n                                onClick={ () => onGrupoSelecionadoClick(g) } \r\n                                style={{color:'white'}}>{g}\r\n                            </a> \r\n                        </div>                        \r\n                    )\r\n                }\r\n            </Grupo>\r\n        )\r\n    }\r\n\r\n    const BtnGrupo = () => {\r\n        return (\r\n            <a className=\"botao-grupo\" href=\"#\" onClick={onGrupoClick}>\r\n                <span>{grupo}</span>\r\n                <BsChevronDown style={{ float: 'right', display: 'flex' }} />                  \r\n            </a>   \r\n        )\r\n    }\r\n\r\n    const MostraCardapio = () => {\r\n\r\n        const [pesquisa, setPesquisa] = useState('');\r\n\r\n        return (\r\n\r\n            <div className=\"body\">\r\n                <Alarme />\r\n                {\r\n                    grupo ? <BtnGrupo />\r\n                    : ''\r\n                }\r\n\r\n                <div className=\"filtros\">\r\n                    {\r\n                        login.login ? ( // Garçom\r\n                            <div className=\"pnlOptions\">\r\n                                <Link to='#' className={cssProduto} onClick={onProdutosClick}>Produtos</Link>\r\n                                <Link to='#' className={cssCarrinho} onClick={onCarrinhoClick}>Carrinho</Link>\r\n                            </div>\r\n\r\n                        ) : ( // Hospede\r\n                            <div className=\"pnlOptions\">\r\n                                <Link to='#' className={cssProduto} onClick={onProdutosClick}>Produtos</Link>\r\n                                <Link to='#' className={cssCarrinho} onClick={onCarrinhoClick}>Carrinho</Link>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"lista\">\r\n                { \r\n                    mostraCarrinho ? (\r\n\r\n                        <ListaItensCarrinho \r\n                            suite_id={login.suite_id} \r\n                            onCarrinhoVazio={onProdutosClick}\r\n                            onFinalizaPedido={onFinalizaPedido}\r\n                        />\r\n                    ) : (\r\n\r\n                        <div>\r\n\r\n                            <SearchBox>\r\n                                <form>\r\n                                    <input \r\n                                        value={pesquisa}\r\n                                        onChange={(event) => {\r\n                                            setPesquisa(event.target.value)\r\n                                        }}\r\n                                        placeholder=\"Digite aqui sua pesquisa\" />\r\n                                </form>                                    \r\n                            </SearchBox>\r\n\r\n                            <ListaItensCardapio \r\n                                pesquisa={pesquisa} \r\n                                items={produtos} \r\n                                onItemClick={onItemClick} \r\n                                grupo={grupo}\r\n                            />\r\n                            \r\n                        </div>\r\n                    )\r\n                }\r\n                </div>\r\n            </div>  \r\n        )\r\n    }\r\n\r\n    const MenuCardapio = () => {\r\n        return (\r\n            <div className=\"btnCardapio\" onClick={onBuscaCarpadioClick}>\r\n                <span className=\"nome_cardapio\">Cardápio</span>\r\n                <span className=\"tipo_cardapio\">{cardapio.descricao}</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n// <BsHouseDoor onClick={onMenuClick} className=\"seta\" type=\"button\"  /> \r\n// <BsMap onClick={onBuscaCarpadioClick} className=\"cardapio\" type=\"button\"  /> \r\n    return (\r\n\r\n        <div className=\"root\">\r\n\r\n            <div className=\"header\">\r\n\r\n                <div className=\"header-content\">\r\n                    <BsHouseDoor className=\"seta\" onClick={onMenuClick} type=\"button\"  />                    \r\n                    <MenuCardapio />\r\n                    <BsHouseDoor className=\"hidden\"  />                    \r\n                 </div>\r\n\r\n            </div>\r\n\r\n            {\r\n                buscaCardapio ? <MostraCardapios id={id} onCardapioClick={onCardapioClick} />\r\n                : buscaGrupo ? <MostraGrupos /> : <MostraCardapio />\r\n            }\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst Grupo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 80vh;\r\n  margin-top: 60px;\r\n  `;\r\n\r\nconst SearchBox = styled.div`\r\n    input {\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        padding: 16px;\r\n        width: 100%;\r\n\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n\r\n        display: flex;\r\n        align-items: center;\r\n       \r\n    }\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation, useHistory, useParams } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\n\r\nimport { \r\n    getLogin,\r\n    getConta,\r\n    setApartamentoAtual,\r\n} from '../utils/utils-context';\r\n\r\nexport default function Apartamentos() {\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    const history = useHistory();\r\n    const [ apartamentos, setApartamentos] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n        api.get(`/api/rooms/${login.uuid}`).then(response => {\r\n            console.log('apartamentos:', response.data);\r\n            setApartamentos(response.data);\r\n        });\r\n\r\n    },[]);\r\n\r\n    const onVoltarClick = () => {\r\n        history.push({ pathname: `/cardapio/${id}` });     \r\n    }\r\n\r\n    const onApartamentoClick = (ap) => {\r\n        setApartamentoAtual(ap);\r\n    }\r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <Link to=\"#\" onClick={onVoltarClick}>\r\n                        <BsArrowLeftShort type=\"button\" className=\"seta\" />\r\n                    </Link>               \r\n                </div>\r\n                <h1 style={{ fontSize: 22  }}>Ocupações</h1>\r\n            </div>\r\n            <Apartamento>\r\n                {\r\n                    apartamentos.map((ap, i) => \r\n                            <a className=\"botao-apartamento\" \r\n                                key={i}\r\n                                href=\"#\" \r\n                                onClick={ () => onApartamentoClick(ap) } \r\n                                style={{color:'white'}}>{ap.id}\r\n                            </a> \r\n                    )\r\n                }\r\n            </Apartamento>\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nconst Apartamento = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    margin-top: 40px;\r\n  `;\r\n\r\n","import React, { useState } from 'react';\r\nimport { BiMinus } from \"react-icons/bi\";\r\nimport { BiPlus } from \"react-icons/bi\";\r\nimport styled from 'styled-components';                                                                   \r\n\r\nfunction Counter({value, onUpdate}) {                                                                          \r\n\r\n  const Contador = styled.div`                    \r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    background-color: #ff9000;\r\n    border-radius: 5px;\r\n    margin: 20px;\r\n    width: 300px;\r\n    height: 50px;    \r\n  `;\r\n\r\n  const ButtonCounter = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 44px;\r\n    width: 44px;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n  `;\r\n\r\n  return (\r\n    <Contador>\r\n      <div>\r\n        <BiMinus onClick={() => onUpdate(-1)} style={{fontSize: 23}}/>\r\n      </div>\r\n      <ButtonCounter>\r\n        <h1 style={{color: '#ff9000', fontSize: 25}}>{value}</h1>\r\n      </ButtonCounter>\r\n      <div>\r\n        <BiPlus onClick={() => onUpdate(1)} style={{fontSize: 23}}/>\r\n      </div>\r\n    </Contador>\r\n  );\r\n}\r\n\r\nexport default Counter;","//import '../styles/Requests.css';\r\nimport getPreco from '../utils/getPreco';\r\nimport styled from 'styled-components';\r\nimport api from '../services/api';\r\nimport React, {useState, useEffect} from 'react';\r\nexport const ListaHistoricoApartamento = ({id, apartamento}) => {\r\n    const [items, setItems] = useState([])\r\n    useEffect(() => {\r\n        preencherHistorico();\r\n    }, [apartamento])\r\n    function formatarData(dataString) {\r\n        // Cria um objeto Date com a string fornecida\r\n        var data = new Date(dataString);\r\n      \r\n        // Obtém os componentes individuais da data\r\n        var dia = adicionaZero(data.getDate());\r\n        var mes = adicionaZero(data.getMonth() + 1); // Os meses começam do zero\r\n        var ano = data.getFullYear();\r\n        var horas = adicionaZero(data.getHours());\r\n        var minutos = adicionaZero(data.getMinutes());\r\n        var segundos = adicionaZero(data.getSeconds());\r\n      \r\n        // Monta a string formatada\r\n        var dataFormatada = `${dia}/${mes}/${ano} - ${horas}:${minutos}:${segundos}`;\r\n      \r\n        return dataFormatada;\r\n      }\r\n      \r\n      function adicionaZero(numero) {\r\n        return numero < 10 ? '0' + numero : numero;\r\n      }\r\n      const preencherHistorico = async () => {\r\n        const data = (await api.get(`/api/historico/${id}/${apartamento}`)).data[0]\r\n        setItems(data)\r\n    }  \r\n    \r\n    const renderSemItens = () => (        \r\n        <SemItensStyle>Sem itens!</SemItensStyle>        \r\n        )\r\n\r\n    if (!items || items.length === 0) {\r\n        return renderSemItens()\r\n    };\r\n\r\n    return <Body>\r\n            {items.map((item) => (\r\n                <div type=\"button\" \r\n                key={item.Comanda} \r\n                className=\"products\">\r\n                <div style={{padding: '10px', width: '100%'}}>\r\n                    <div>\r\n                        <div style={{float:'left', width: '70%'}}>\r\n                            <p style={{fontSize:14, marginBottom: '5px', color:'#a2a276'}}>Nº {item.PkProduto}</p>\r\n                            <p style={{color:'#3fe799', marginBottom: '5px', fontSize:16, maxWidth: 190}}>{item.NomeProduto}</p>\r\n                            <p style={{fontSize:16, marginBottom: '5px',}}>{getPreco(item.Preco)}</p>\r\n                            <p style={{fontSize:16, marginBottom: '5px',}}>Quantidade: {item.Qtde}</p>\r\n                            <p style={{fontSize:16, marginBottom: '5px',}}>{formatarData(item.HrLan)}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <p style={{fontSize:14, width: '200px'}}>N° da comanda: {item.Comanda}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            ))}\r\n        </Body>;\r\n}\r\n\r\nconst SemItensStyle = styled.p`\r\n    display: flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    font-size: 25px;\r\n`;\r\n\r\nconst Body = styled.div`\r\n    max-height: 70vh;\r\n    overflow-y: auto;\r\n    /* Barra de rolagem para navegadores WebKit (Chrome, Safari) */\r\n  &::-webkit-scrollbar {\r\n    width: 4px; /* Largura da barra de rolagem */\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: #3498db; /* Cor do \"polegar\" (a parte móvel da barra de rolagem) */\r\n    border-radius: 6px; /* Raio da borda do \"polegar\" */\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background-color: #f1f1f1; /* Cor da trilha (a parte fixa da barra de rolagem) */\r\n  }\r\n\r\n  /* Barra de rolagem para navegadores baseados no Firefox */\r\n  &::-moz-scrollbar {\r\n    width: 12px; /* Largura da barra de rolagem */\r\n  }\r\n\r\n  &::-moz-scrollbar-thumb {\r\n    background-color: #3498db; /* Cor do \"polegar\" */\r\n    border-radius: 6px; /* Raio da borda do \"polegar\" */\r\n  }\r\n\r\n  &::-moz-scrollbar-track {\r\n    background-color: #f1f1f1; /* Cor da trilha */\r\n  }\r\n`","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation, useHistory, useParams } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport { FaBed } from \"react-icons/fa\";\r\nimport getPreco from '../utils/getPreco'\r\nimport api from '../services/api';\r\nimport Counter from './Counter';\r\nimport styled from 'styled-components';\r\nimport {ListaHistoricoApartamento} from './ListaHistoricoApartamento'\r\n\r\nimport { getLogin, getConta, setLogin, getHost, \r\n         getMesaAtual, setMesaAtual, \r\n         getSuiteAtual, setSuiteAtual, contaEncerrada,\r\n         getCardapioAtual, setApartamentoAtual, getApartamentoAtual\r\n} from '../utils/utils-context';\r\nimport alerta from '../utils/alertas';\r\n\r\nexport default function AdicionaItem() {\r\n\r\n    const isCheckout = () => {\r\n        if (contaEncerrada(login)) {\r\n            setLogin(null);\r\n            history.push({ pathname: `/${id}` });\r\n            return true;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        //if (login == null) history.push({ pathname: `/entrar/${id}` });\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n        if (isCheckout()) return;\r\n        if (!login.login) return;\r\n        api.get(`/api/rooms/${login.uuid}`).then(response => {\r\n            const data = response.data.filter(i => {\r\n                   return i.SitAtual == 'O';\r\n            });\r\n            setApartamentos(\r\n                data.sort((a,b) => {\r\n                    return (a.id < b.id) ? -1 : 1;\r\n                })\r\n            );\r\n        });\r\n\r\n    },[]);\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    const [conta] = useState(getConta());\r\n\r\n    const { item } = useLocation();\r\n\r\n    const history = useHistory();\r\n    \r\n    const [ produto ] = useState(item);\r\n    const [ mesa, setMesa ] = useState(getMesaAtual());\r\n    const [ suite, setSuite ] = useState(getSuiteAtual());\r\n    const [ adicionado, setAdicionado ] = useState(false);\r\n    const [historico, setHistorico] = useState([])\r\n\r\n    const [ apartamento , setApartamento ] = useState(getApartamentoAtual().id);\r\n\r\n    const [ detalheItem, setDetalheItem ] = useState(\r\n        (produto?.nota || produto?.imagem) && !login.login\r\n    );\r\n    \r\n    const [ apartamentos, setApartamentos ] = useState([]);\r\n    const [ buscaApartamentos, setBuscaApartamentos ] = useState(\r\n        login.login ? getApartamentoAtual().id === 0 : false\r\n    );\r\n\r\n    const host = getHost();\r\n\r\n    const onVoltarClick = () => {\r\n        history.push({ pathname: `/cardapio/${id}`, busca: false });     \r\n    }\r\n\r\n    const onBuscaApartamentoClick = () => {\r\n        setBuscaApartamentos(true);\r\n    }\r\n\r\n    const onApartamentoClick = (ap) => {\r\n        setSuite(ap.id);\r\n        setApartamentoAtual(ap);\r\n        setApartamento(ap.id);\r\n        setBuscaApartamentos(false);\r\n    }\r\n\r\n    const MostraApartamentos = () => {\r\n\r\n        return (\r\n            <Apartamento>\r\n                {\r\n                    apartamentos.map((ap, i) => \r\n                            <a className=\"botao-apartamento\" \r\n                                key={i}\r\n                                href=\"#\" \r\n                                onClick={ () => {onApartamentoClick(ap)} } \r\n                                style={{color:'black'}}>{ap.id}\r\n                            </a> \r\n                    )\r\n                }\r\n            </Apartamento>\r\n        );\r\n    }\r\n\r\n    const DetalheItem = () => {\r\n\r\n        const onContinuarClick = () => {\r\n            setDetalheItem(false);\r\n        }\r\n\r\n        // <img src={`${host}/api/foto/${item.id}`}  alt=\"foto\" />\r\n//                    <img src={produto.imagem}  alt=\"foto\" />\r\n\r\n        return (\r\n            <Container>\r\n                <ImgContainer>\r\n                    <img src={produto?.imagem} alt=\"foto\" />\r\n                </ImgContainer>\r\n                <div className=\"container-product-detail\">\r\n                    <h2 style={{ fontSize: 20, marginTop: 30, textAlign: 'center' }}>\r\n                        {produto.descricao}\r\n                    </h2>\r\n                    <h2 style={{fontSize: 15, marginTop: 20, marginBottom: 20}}> \r\n                        {produto?.nota}\r\n                    </h2>\r\n                </div>\r\n                <a  className=\"continuar-item\" \r\n                    href=\"#\" \r\n                    onClick={onContinuarClick} \r\n                    style={{color:'white'}}>Continuar\r\n                </a>\r\n                <br />\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    const AdicionaItem = () => {\r\n        const [listaObs, setListaObs] = useState([])\r\n        const [ quant, setQuant ] = useState(1);\r\n        const [ nota, setNota ] = useState('');\r\n    \r\n        const atualizaQuantidade = (value) => {\r\n            var q = quant + value;\r\n            setQuant(q > 0 ? q : 1);\r\n        }\r\n        const obterListaObs = async () => {\r\n            console.log('Executei !!')\r\n            const response = await api.get(`/api/lista-obs/${login.uuid}`)\r\n            setListaObs(response.data)\r\n        }\r\n    \r\n        const onAdicionaItem = () => {\r\n        \r\n            if (isCheckout()) return;\r\n    \r\n            if (adicionado) return;\r\n            \r\n            setAdicionado(true);\r\n            \r\n            const cardapio = getCardapioAtual();\r\n            const apartamento = getApartamentoAtual();\r\n\r\n            api.post('/api/order', { \r\n                uuid: id,\r\n                mesa: mesa ?? null,\r\n                funcionario: login.login,\r\n                funcionario_id: login.funcionario_id ?? '0',\r\n                suite_id: login.suite_id ?? 0,\r\n                suite: login.suite ?? apartamento.id, //, mesa, \r\n                codigo: produto.codigo,\r\n                descricao: produto.descricao,\r\n                foto: produto.foto,\r\n                produto_id: produto.id, \r\n                preco: produto.preco, \r\n                tipo:produto.tipo,\r\n                quantidade: quant, \r\n                nota: nota,\r\n                hospede: login.NrHospede ?? apartamento.NrHospede,\r\n                paraDescricao: nota,\r\n                paraValor: 0,\r\n                cardapio: cardapio.id\r\n            }).then(response => {\r\n                setMesaAtual(mesa);\r\n                setSuiteAtual(suite);\r\n                onVoltarClick();\r\n            }).catch(e => {\r\n                setMesaAtual(mesa);\r\n                setSuiteAtual(suite);\r\n                onVoltarClick();\r\n            });\r\n        }\r\n        \r\n        const onConsultaHistorico = () => {\r\n            alerta({ \r\n                title: 'Histórico',\r\n                message: <><ListaHistoricoApartamento id={id} apartamento={suite} /></>,\r\n                onOk: () => { \r\n                    console.log('Confirmar')\r\n                }\r\n            })\r\n        }\r\n        useEffect(() => {\r\n            obterListaObs()\r\n        }, [])\r\n        return (\r\n            <div className=\"body\">\r\n\r\n                <div className=\"container-product-info\">\r\n\r\n                    <h2 style={{ fontSize: 20, marginTop: '60px', textAlign: 'center' }}>\r\n                        {produto.descricao}\r\n                    </h2>\r\n\r\n                    <h2 style={{\r\n                        fontSize:25,\r\n                        color: 'lightgreen',\r\n                        marginTop: '30px',\r\n                        textAlign: 'center'}}>\r\n                        {getPreco(produto.preco * quant)}\r\n                    </h2>\r\n\r\n                    <Counter value={quant} onUpdate={atualizaQuantidade} />\r\n\r\n                    <select className=\"nota\" value={nota} onChange={(event) => { setNota(event.target.value) }}>\r\n                        <option value={\"\"}>Observações</option>\r\n                        {\r\n                            listaObs.map(l => (\r\n                                <option key={l.id}>{l.ObsPrato}</option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n\r\n                    {\r\n                        conta.sistema === 'WINRESTA' ? (\r\n                            <div>\r\n                                <input\r\n                                    className=\"mesa\"\r\n                                    type=\"text\"\r\n                                    value={mesa}\r\n                                    onChange={(event) => {setMesa(event.target.value)}}\r\n                                    placeholder=\"Mesa\" />\r\n                            </div>\r\n                        ) : ('')\r\n                    }\r\n\r\n                    {\r\n                        /*\r\n                        login.perfil === 'camareira' ? (\r\n                            <div>\r\n                                <input \r\n                                    className=\"mesa\"\r\n                                    type=\"text\" \r\n                                    value={suite}\r\n                                    onChange={(event) => {setSuite(event.target.value)}}\r\n                                    placeholder=\"Suite\" />\r\n                            </div>\r\n                        ) : ('')\r\n                        */\r\n                    }\r\n\r\n                    <a  className=\"consultar-historico\"\r\n                        href=\"#\"\r\n                        onClick={onConsultaHistorico}\r\n                        style={{color:'white'}}>Consultar histórico\r\n                    </a>\r\n\r\n                    <a  className=\"adicionar-item\"\r\n                        href=\"#\"\r\n                        onClick={onAdicionaItem}\r\n                        style={{color:'white'}}>Adicionar\r\n                    </a>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    const descricao = apartamento == 0 ? 'Selecione apartamento' : 'Apartamento ' + apartamento;\r\n    const dadosAp = getApartamentoAtual();\r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <BsArrowLeftShort onClick={onVoltarClick} className=\"seta\" type=\"button\"  /> \r\n                    {\r\n                        login.login ?\r\n                            <FaBed onClick={onBuscaApartamentoClick} className=\"cama\" type=\"button\"  /> \r\n                            : ''\r\n                    }\r\n                </div>\r\n                <div>\r\n                    <span className=\"nome_cardapio\">Adicionar Item</span>\r\n                    {\r\n                        login.login ? \r\n                            <span className=\"tipo_cardapio\">{descricao}</span>\r\n                        : ''\r\n                    }\r\n                    <span className=\"nome_hospede\">{dadosAp.NomeHospede}</span>\r\n                </div>                    \r\n            </div>\r\n            {\r\n                buscaApartamentos ? <MostraApartamentos /> :\r\n                (detalheItem ? <DetalheItem /> : <AdicionaItem />)\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst Container = styled.div`\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 80vh;\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n`;\r\n\r\nconst Apartamento = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    margin-top: 40px;\r\n  `;\r\n\r\n/*\r\n                    {\r\n                        produto.foto ? \r\n                        <div className=\"img-product-des\">\r\n                            <img className=\"product-img-description\" \r\n                                src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${produto.foto}`} \r\n                                alt=\"\" />\r\n                        </div>\r\n                        : ''\r\n                    }\r\n\r\n*/","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport getPreco from '../utils/getPreco'\r\n\r\nexport default function MostraComanda({mesa, comanda, onPesquisarMesa, onTrocarItemMesa}) {\r\n    \r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n    \r\n    const onMenuClick = () => {\r\n        history.push({ pathname: `/menu/${id}` });\r\n    }\r\n\r\n    return (\r\n        <div className=\"root\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <BsArrowLeftShort onClick={onMenuClick} className=\"seta\" type=\"button\"  /> \r\n                </div>\r\n                <h1>Pedidos</h1>\r\n            </div>    \r\n            <div className=\"body\">\r\n\r\n                <div className=\"lista_pedidos\">\r\n                    \r\n                    <PesquisaMesa>\r\n                        <form>\r\n                            <input \r\n                                value={mesa}\r\n                                onChange={(event) => {\r\n                                    onPesquisarMesa(event.target.value);\r\n                                }}\r\n                                placeholder=\"Mesa\"/>\r\n                        </form>\r\n                    </PesquisaMesa>\r\n\r\n                    <ListaItensComanda items={comanda.items} onTrocarItemMesa={onTrocarItemMesa} />\r\n                    \r\n                    <Total total={comanda.total} />\r\n\r\n                </div>\r\n\r\n            </div>        \r\n        </div>\r\n    )\r\n}\r\n\r\nconst Total = ({total}) => {\r\n    if (!total || total === 0) \r\n        return ''//<div className='total'>Não há pedidos!</div>\r\n    return (\r\n        <div className='total'>Total: {getPreco(total)}</div>\r\n    )\r\n};\r\n\r\nconst TrocarMesa = ({item, trocar, onTrocarItemMesa}) => {\r\n\r\n    const [novaMesa, setNovaMesa] = useState('');\r\n\r\n    if (trocar) return (\r\n        <div>\r\n            <TrocaMesa>\r\n                <form>\r\n                    <input value={novaMesa} placeholder = \"Mesa\" \r\n                        onChange={(event) => {\r\n                            setNovaMesa(event.target.value);\r\n                        }}                    \r\n                    />\r\n                </form>\r\n            </TrocaMesa>\r\n\r\n            <a  className=\"trocar-mesa\" \r\n                href=\"#\" \r\n                onClick={() => { onTrocarItemMesa(item, novaMesa) } } \r\n                style={{color:'white'}}>Trocar\r\n            </a>\r\n\r\n        </div>\r\n)\r\n    return '';\r\n}\r\n\r\nconst ListaItensComanda = ({items, onTrocarItemMesa}) => {\r\n\r\n    const [trocarMesa, setTrocarMesa] = useState(false);\r\n    \r\n    if (!items || items.length === 0) return (\r\n        <SemItensStyle>Sem ítens!</SemItensStyle>\r\n    )\r\n\r\n    const onItemClick = (item) => {\r\n        if (item.atendido) return;\r\n        setTrocarMesa(!trocarMesa);\r\n    }\r\n\r\n    return (\r\n\r\n        items.map(item =>\r\n            <div>\r\n                <div className='item' onClick={() => onItemClick(item)} >\r\n                    <p style={{fontSize:14, color:'#a2a276'}}>Nº {item.codigo}</p>\r\n                    <p style={{color:'#3fe799', fontSize:16}}>{item.descricao}</p>\r\n                    <p style={{fontSize:14, width: 200}}>{item.nota}</p>\r\n                    <p style={{fontSize:18}}>\r\n                        <span style={{color:'#8c8c8c'}}>{item.quantidade} x {getPreco(item.preco)}</span> = {getPreco(item.preco, item.quantidade)}\r\n                    </p>\r\n                    {\r\n                        item.atendido ? ('') : (\r\n                            <p className=\"toque\" style={{fontSize:14}}>Toque para trocar mesa</p>\r\n                        )\r\n                    }\r\n                </div>\r\n                <TrocarMesa \r\n                    item={item} \r\n                    trocar={trocarMesa} \r\n                    onTrocarItemMesa={(item, mesa) => {\r\n                        setTrocarMesa(false);\r\n                        onTrocarItemMesa(item, mesa)\r\n                    }} />\r\n            </div>\r\n\r\n        )\r\n    )\r\n}\r\n\r\n/*\r\n    <div className=\"products-image\">\r\n        <img className=\"product-img\" src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${item.foto}`} alt=\"\"/>\r\n    </div>\r\n*/\r\n\r\nconst PesquisaMesa = styled.div`\r\n    input {\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        margin-top: 60px;\r\n        padding: 16px;\r\n        width: 100%;\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst TrocaMesa = styled.div`\r\n    input {\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        margin-top: 10px;\r\n        padding: 16px;\r\n        width: 100%;\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst SemItensStyle = styled.p`\r\n    display: flex;\r\n    justify-content:center;\r\n    margin-top: 10px;\r\n    align-items:center;\r\n    font-size: 25px;\r\n`;\r\n","import { useHistory, useParams } from \"react-router-dom\";\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport getPreco from '../utils/getPreco';\r\n\r\nexport default function MostraPedidos({pedidos}) {\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n\r\n    const onMenuClick = () => {\r\n        history.push({ pathname: `/menu/${id}` });\r\n    }\r\n\r\n    const getData = (data) => {\r\n        const mes = [\r\n            'janeiro', 'fevereiro', 'março',\r\n            'abril', 'maio', 'junho',\r\n            'julho', 'agosto', 'setembro',\r\n            'outubro', 'novembro', 'dezembro'\r\n        ]\r\n\r\n        const dia = data.substr(8,2);\r\n\r\n        const i = parseInt(data.substr(5,2));\r\n\r\n        return dia + ' de ' + mes[i];\r\n    }\r\n\r\n    if (pedidos.length === 0) return '';\r\n\r\n    console.log(pedidos);\r\n\r\n    return (\r\n        <div className=\"root\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <BsArrowLeftShort onClick={onMenuClick} className=\"seta\" type=\"button\"  /> \r\n                </div>\r\n                <h1>Pedidos</h1>\r\n            </div>    \r\n            <div className=\"body\">\r\n                <div className=\"listaItensPedido\">\r\n                    {\r\n                        pedidos.pedidos.map(pedido => {\r\n                            return(\r\n                                <div key={pedido.id} className=\"item\">\r\n                                    <div className=\"data\">{getData(pedido.data)}</div>\r\n                                    <ListaItensPedido items={pedido.items} />\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    <Total total={pedidos.total} />\r\n                </div>\r\n            </div>        \r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nconst Total = ({total}) => {\r\n    if (total === 0) \r\n        return <div className='total'>Não há pedidos!</div>\r\n    return (\r\n        <div className='total'>Total: {getPreco(total)}</div>\r\n    )\r\n};\r\n\r\nconst ListaItensPedido = ({items}) => {\r\n\r\n    const getAtendido = (atendido) => {\r\n        if (atendido === '') return '';\r\n        return 'atendido';\r\n    }\r\n\r\n    if (items.length === 0) return '';\r\n\r\n    return items.map(item => {\r\n        return (\r\n            <div key={item.id} style={{marginTop: '20px'}}>\r\n                <div style={{overflow: 'hidden'}}>\r\n                    <div className='esquerda'>{item.descricao}</div>\r\n                    <div className='direita'><span className='detalhe'>Nº {item.codigo}</span></div>\r\n                </div>\r\n                <div style={{overflow: 'hidden'}}>\r\n                    <div className='detalhe'>{item.quantidade} x {getPreco(item.preco)}</div>\r\n                    <div className='valor'>{getPreco(item.preco * item.quantidade)}</div>\r\n                </div>\r\n                <div className='atendido'>{getAtendido(item.atendido)}</div>\r\n            </div>\r\n        )\r\n    })\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport api from '../services/api';\r\nimport { getLogin } from '../utils/utils-context';\r\nimport MostraComanda from './MostraComanda';\r\nimport MostraPedidos from './MostraPedidos';\r\n\r\nexport default function Pedidos() {\r\n    \r\n    const { id } = useParams();\r\n    const [login] = useState(getLogin());\r\n    const history = useHistory();\r\n\r\n    const [pedidos, setPedidos] = useState([]);\r\n    const [mesa, setMesa] = useState();\r\n\r\n    useEffect(() => {\r\n\r\n        if (login == null) history.push({ pathname: `/entrar/${id}` });\r\n\r\n        if (!login.suite_id && !mesa) {\r\n            return;\r\n        }\r\n\r\n        let mounted = true;\r\n\r\n        let url = '/api/order/consumer/';\r\n        url += login.suite_id ? login.suite_id : `waiter/${login.uuid}/${mesa}`;\r\n\r\n        api.get(url).then(response => {\r\n\r\n            if (!mounted) return;\r\n\r\n            setPedidos(response.data);\r\n\r\n        }).catch(() => {\r\n\r\n            setPedidos([]);\r\n\r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    },[mesa]);\r\n\r\n    const onPesquisarMesa = (mesa) => {\r\n        setMesa(mesa);\r\n    }\r\n\r\n    const onTrocarItemMesa = (item, nova_mesa) => {\r\n        api.post(`/api/mesa/${id}/${item.id}/${mesa}/${nova_mesa}`).then(response => {\r\n            setPedidos(response.data);\r\n        }).catch(() => {\r\n            setPedidos([]);\r\n        });        \r\n    }\r\n\r\n    return(\r\n\r\n        login.login \r\n            ?\r\n                <MostraComanda mesa={mesa} comanda={pedidos} \r\n                    onPesquisarMesa={onPesquisarMesa} \r\n                    onTrocarItemMesa={onTrocarItemMesa} />\r\n            :\r\n                <MostraPedidos pedidos={pedidos} />\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport { getLogin } from '../utils/utils-context';\r\nimport { shade } from 'polished';\r\nimport getPreco from '../utils/getPreco';\r\nimport api from '../services/api';\r\nimport Alarme from './Alarme';\r\n\r\nexport default function Informacoes() {\r\n\r\n    const build   = '1.0.64';\r\n    \r\n    const { id }  = useParams();\r\n    const history = useHistory();\r\n    const [login, setLogin] = useState(getLogin());\r\n    const [opcao, setOpcao] = useState('MENU');\r\n    const [titulo, setTitulo ] = useState('Informações');\r\n    const [timer, setTimer] = useState(true);\r\n\r\n    //var TIMER;\r\n\r\n    useEffect(() => { \r\n        if (login == null) history.push({ pathname: `/entrar/${id}` });\r\n\r\n        const data = { id: login.uuid, suite: login.suite, cpf: login.cpf };\r\n        api.post('/api/entrar', data).then(response => {\r\n            console.log('/api/entrar:', response.data);\r\n            setLogin(response.data);\r\n        }).catch((error) => {\r\n            if (error.response) console.log(error.response.status);\r\n        });\r\n\r\n//        let mounted = true;\r\n        \r\n        // TIMER = setInterval(function(){\r\n        //     if (!mounted) return;\r\n        //     onTimer();\r\n        // }, 5000);\r\n\r\n        // return function cleanup() {\r\n            \r\n        //     mounted = false;\r\n\r\n        //     setTimeout(() => {\r\n        //         clearInterval(TIMER);\r\n        //         TIMER = null;\r\n        //     }, 1000);\r\n\r\n        // }\r\n\r\n    },[opcao]);\r\n\r\n    // const onTimer = () => {\r\n    //     const data = { id: login.uuid, suite: login.suite, cpf: login.cpf };\r\n    //     api.post('/api/entrar', data).then(response => {\r\n    //         console.log('/api/entrar:', response.data);\r\n    //         setLogin(response.data);\r\n    //         setTimer(!timer);\r\n    //     }).catch((error) => {\r\n    //         if (error.response) console.log(error.response.status);\r\n    //     });\r\n    // }\r\n\r\n    const MenuPrincipal = () => {\r\n        return (\r\n            <Container>\r\n\r\n              <CardContainer>\r\n                    <a href=\"#\" onClick={onPerfilClick} className=\"requests\">Perfil</a>\r\n              </CardContainer>\r\n\r\n              {\r\n                  !login.login ? (\r\n                    <CardContainer>\r\n                        <a href=\"#\" onClick={onContaClick} className=\"requests\">Conta</a>\r\n                    </CardContainer>\r\n                  ) : \"\"\r\n              }\r\n              <Alarme />  \r\n            </Container>\r\n        );\r\n    }\r\n\r\n    const onPerfilClick = () => {\r\n        setOpcao('PERFIL'); setTitulo('Perfil de uso')\r\n    }\r\n\r\n    const onContaClick = () => {\r\n        setOpcao('CONTA'); setTitulo('Resumo da conta')\r\n    }\r\n\r\n    const onVoltarClick = () => {\r\n        if (opcao === \"MENU\") {\r\n            history.push({ pathname: `/menu/${id}` });\r\n            return;\r\n        }\r\n        setOpcao(\"MENU\"); setTitulo(\"Informações\");\r\n    }\r\n\r\n    const InfoPerfil = () => {\r\n        if (login.login) return <InfoFuncionario />\r\n        else return <InfoHospede />\r\n    }\r\n\r\n    const InfoConta = () => {\r\n        return (\r\n            <InfoUsers>\r\n                <p>Diárias (+)</p>\r\n                <strong>{getPreco(login.diarias)}</strong>\r\n                <p>Extras (+)</p>\r\n                <strong>{getPreco(login.extras)}</strong>   \r\n                <p>Taxas (+)</p>\r\n                <strong>{getPreco(login.taxas)}</strong>   \r\n                <p style={{color: '#d0fa5b'}}>Antecipado (-)</p>\r\n                <strong>{getPreco(login.antecipado)}</strong>   \r\n                <p style={{color: '#ff9000'}}>Saldo (=)</p>\r\n                <strong>{getPreco(login.saldo)}</strong>\r\n            </InfoUsers>\r\n        )\r\n}\r\n\r\n    const InfoFuncionario = () => {\r\n        return (\r\n            <InfoUsers>\r\n                <p>Funcionário</p>\r\n                <strong>{funcionario}</strong>\r\n                <p>Build</p>\r\n                <strong>{build}</strong>   \r\n                <Alarme />\r\n            </InfoUsers>\r\n        )\r\n    }\r\n\r\n    const InfoHospede = () => {\r\n        return (\r\n            <InfoUsers>\r\n                <p>Reserva</p>\r\n                <strong>{login.reserva}</strong>\r\n                <p>Hóspede Master</p>\r\n                <strong>{login.hospede}</strong>\r\n                <p>Suíte</p>\r\n                <strong>{login.suite}</strong>\r\n                <p>Check-in</p>\r\n                <strong>{login.checkin}</strong>\r\n                <p>Check-out</p>\r\n                <strong>{login.checkout}</strong>   \r\n                <p>Build</p>\r\n                <strong>{build}</strong>   \r\n            </InfoUsers>\r\n        )\r\n    }\r\n\r\n    const funcionario = login.login + ' ' + login.funcionario_id;\r\n\r\n    return(\r\n        \r\n        <div className=\"rooms\">\r\n\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <a href=\"#\" onClick={onVoltarClick} className=\"requests\">\r\n                        <BsArrowLeftShort className=\"seta\" type=\"button\" /> \r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <span className=\"nome_cardapio\">{titulo}</span>\r\n                </div>                \r\n            </div> \r\n\r\n            {\r\n                opcao === \"MENU\" ? \r\n                    <MenuPrincipal /> :\r\n                    ( opcao == \"PERFIL\" ? \r\n                        <InfoPerfil /> : \r\n                        <InfoConta timer={timer} />\r\n                    )\r\n            }\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n//{\r\n//    login.login ? <InfoFuncionario /> : <InfoHospede />\r\n//}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  margin: 120px;\r\n  align-items: center;\r\n  justify-content: start;\r\n  height: 80vh;\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px 98px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin-top: 46px;\r\n    margin-bottom: 40px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 26px;\r\n    }\r\n`;\r\n\r\nconst InfoUsers = styled.div`\r\n    margin:50px;\r\n    width: 75%;\r\n\r\n    p {\r\n        margin-top: 10px;\r\n        margin-bottom: 5px;\r\n    }\r\n    \r\n    strong {\r\n        display: flex;\r\n        padding: 8px 0 8px 10px;\r\n\r\n        background: #666;\r\n        border-radius: 5px;\r\n        font-size: 24px;\r\n    }\r\n`;","import React from 'react'\r\nimport styled from 'styled-components';\r\nconst TextArea = styled.textarea`\r\n    padding: 5px;\r\n    margin-top: 10px;\r\n    width: 100%;\r\n`\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    padding: 5px;\r\n`\r\n\r\nexport const ExigirObsEPeriodo = (props) => {\r\n    return <>\r\n\r\n<br/>\r\n        <h3>Campos obrigatórios</h3>\r\n        <br/>\r\n\r\n\r\n        <label>\r\n            Data de inicio\r\n        </label>\r\n        <Input \r\n              type='date'\r\n              onChange={(event) => {props.onChangeDtInicio(event.target.value)}}            \r\n              placeholder=\"Data de inicio\"/> <br /> <br/>\r\n\r\n\r\n        <label>\r\n            Data de término\r\n        </label>\r\n        <Input \r\n              type='date'\r\n              onChange={(event) => {props.onChangeDtFim(event.target.value)}}            \r\n              placeholder=\"Data de término\"/> <br/> <br/>\r\n              <label>\r\n            Observações\r\n        </label>\r\n\r\n<TextArea \r\n              onChange={(event) => {props.onChangeObs(event.target.value)}}            \r\n            />\r\n\r\n    </>\r\n}","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst TextArea = styled.textarea`\r\n  padding: 5px;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 5px;\r\n`;\r\n\r\nexport const ExigirObs = (props) => {\r\n  return (\r\n    <>\r\n      <br />\r\n      <h3>Campos obrigatórios</h3>\r\n       <br />\r\n      <label>Observações</label>\r\n      <TextArea\r\n        onChange={(event) => {\r\n          props.onChangeObs(event.target.value);\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nconst TextArea = styled.textarea`\r\n  padding: 5px;\r\n  margin-top: 10px;\r\n  width: 100%;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  padding: 5px;\r\n`;\r\n\r\nexport const ExigirPeriodo = (props) => {\r\n  return (\r\n    <>\r\n      <br />\r\n      <h3>Campos obrigatórios</h3>\r\n      <br />\r\n      <label>Data de inicio</label>\r\n      <Input\r\n        type=\"date\"\r\n        onChange={(event) => {\r\n          props.onChangeDtInicio(event.target.value);\r\n        }}\r\n        placeholder=\"Data de inicio\"\r\n      />{\" \"}\r\n      <br /> <br />\r\n      <label>Data de término</label>\r\n      <Input\r\n        type=\"date\"\r\n        onChange={(event) => {\r\n          props.onChangeDtFim(event.target.value);\r\n        }}\r\n        placeholder=\"Data de término\"\r\n      />{\" \"}\r\n      <br /> <br />\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport alerta from '../utils/alertas';\r\nimport Alarme from './Alarme';\r\n\r\nimport { \r\n    getLogin,\r\n    getConta,\r\n} from '../utils/utils-context';\r\nimport { ExigirObsEPeriodo } from './ExigirObsEPeriodo';\r\nimport { ExigirObs } from './ExigirObs';\r\nimport moment from 'moment';\r\nimport { ExigirPeriodo } from './ExigirPeriodo';\r\n\r\nexport default function Servicos() {\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    const [conta] = useState(getConta());\r\n\r\n    const history = useHistory();\r\n    const [ apartamentos, setApartamentos] = useState([]);\r\n    const [ apartamento, setApartamento] = useState(null);\r\n    var TIMER;\r\n\r\n    useEffect(() => {\r\n\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n\r\n        onTimer();\r\n\r\n        let mounted = true;\r\n\r\n        TIMER = setInterval(function() {\r\n            if (!mounted) return;\r\n            onTimer();\r\n        }, 10000);\r\n\r\n        return function cleanup() {\r\n            \r\n            mounted = false;\r\n\r\n            setTimeout(() => {\r\n                clearInterval(TIMER);\r\n                TIMER = null;\r\n            }, 1000);\r\n\r\n        }\r\n\r\n    },[]);\r\n\r\n    const onTimer = () => {\r\n        api.get(`/api/rooms/${login.uuid}`).then(response => {\r\n            setApartamentos(response.data);\r\n        });\r\n    }\r\n\r\n    const onVoltarClick = () => {\r\n        if (apartamento) {\r\n            setApartamento(null);\r\n            onTimer();\r\n            return;\r\n        }\r\n        history.push({ pathname: `/menu/${id}` });     \r\n    }\r\n\r\n    const onApartamentoClick = (ap) => {\r\n        setApartamento(ap);\r\n    }\r\n\r\n    function mudaStatus(opcao, obs, dtInicio, dtFim) {\r\n        api.post(`/api/suite/status/${login.uuid}/${apartamento.id}/${opcao.id}`, {\r\n            \"obs\": obs,\r\n            \"dtInicio\": dtInicio && dtInicio?.length > 0 ? dtInicio : moment().format('YYYY-MM-DD'),\r\n            \"dtFim\": dtFim && dtFim?.length > 0 ? dtFim : moment().format('YYYY-MM-DD'),\r\n        }).then(response => {\r\n            setApartamento(null);\r\n            console.log(response.data);\r\n            onTimer();\r\n        }).catch(() => {\r\n            setApartamento(null);\r\n            onTimer();\r\n        });\r\n    }\r\n\r\n\r\n    const onMudaStatusClick = async(opcao) => {\r\n        async function obterSituacaoUH(opcao, apartamento) {\r\n            const dados = await api.get(`/api/suite/situacao/${login.uuid}/${apartamento.SitAtual}/${opcao.id}`)\r\n            return {\r\n                PedirObservacao: dados?.data?.length > 0 && dados?.data[0]?.length > 0 ? dados?.data[0][0]?.PedirObservacao : 'N',\r\n                PedirPeriodo: dados?.data?.length > 0 && dados?.data[0]?.length > 0 ? dados?.data[0][0]?.PedirPeriodo : 'N'\r\n            }\r\n        }\r\n\r\n        const res = await obterSituacaoUH(opcao, apartamento);\r\n        let obs = '';\r\n        let dtInicio = '';\r\n        let dtFim = '';\r\n        if (!opcao.mensagem) {\r\n            mudaStatus(opcao, '', '', '');\r\n            return;\r\n        }\r\n\r\n        if ((res?.PedirObservacao === 'N') && res?.PedirPeriodo == 'N') {\r\n            console.log('Entrou aqui')\r\n            console.log('Opção', opcao.mensagem)\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: opcao.mensagem,\r\n                onYes: () => { \r\n                    mudaStatus(opcao, '', '', '');\r\n                }\r\n            });\r\n        } else if (res.PedirObservacao === 'S' && res.PedirPeriodo == 'S') {\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: <ExigirObsEPeriodo onChangeObs={(value) => {obs = value}} onChangeDtInicio={(value) => {dtInicio = value}} onChangeDtFim={(value) => {dtFim = value}} />,\r\n                onYes: () => { \r\n                    mudaStatus(opcao, obs, dtInicio, dtFim);\r\n                }\r\n            });\r\n        } else if (res.PedirObservacao === 'N' && res.PedirPeriodo == 'S') {\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: <ExigirPeriodo onChangeDtInicio={(value) => {dtInicio = value}} onChangeDtFim={(value) => {dtFim = value}} />,\r\n                onYes: () => { \r\n                    mudaStatus(opcao);\r\n                }\r\n            });\r\n        } else if (res.PedirObservacao === 'S' && res.PedirPeriodo == 'N') {\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: <ExigirObs onChangeObs={(value) => {obs = value}} />,\r\n                onYes: () => { \r\n                    mudaStatus(opcao, obs);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function AtualizaStatusSuite() {\r\n        const status = conta.status_suites;\r\n        const opcoes = status[apartamento.SitAtual];\r\n        return (\r\n            <Container>\r\n                {\r\n                    opcoes.map((opcao, i) => {\r\n                        return (\r\n                            <CardContainer key={opcao.id}>\r\n                                <a href=\"#\" \r\n                                    onClick={\r\n                                       async () => { await onMudaStatusClick(opcao) }\r\n                                    } className=\"requests\">\r\n                                    {opcao.descricao}\r\n                                </a>\r\n                            </CardContainer>\r\n                        );\r\n                    })\r\n                }\r\n            </Container>\r\n        );\r\n      \r\n    }\r\n\r\n    function Apartamentos() {\r\n\r\n        function getCorSituacao(ap) {\r\n/*\r\n            if (ap.id === '101') ap.SitAtual = 'L';\r\n            if (ap.id === '103') ap.SitAtual = 'O';\r\n            if (ap.id === '104') ap.SitAtual = 'P';\r\n            if (ap.id === '105') ap.SitAtual = 'Z';\r\n            if (ap.id === '106') ap.SitAtual = 'B';\r\n            if (ap.id === '107') ap.SitAtual = 'M';\r\n            if (ap.id === '108') ap.SitAtual = 'V';\r\n            if (ap.id === '109') ap.SitAtual = 'S';\r\n            if (ap.id === '110') ap.SitAtual = 'I';\r\n            if (ap.id === '111') ap.SitAtual = 'D';\r\n            if (ap.id === '112') ap.SitAtual = 'C';\r\n*/\r\n            switch (ap.SitAtual) {\r\n                case 'L':\r\n                    return \"botao-apartamento-livre\";\r\n                case 'O':\r\n                    return \"botao-apartamento-ocupado\";\r\n                case 'P':\r\n                    return \"botao-apartamento-pagamento\";\r\n                case 'Z':\r\n                    return \"botao-apartamento-limpeza\";\r\n                case 'B':\r\n                    return \"botao-apartamento-bloqueado\";\r\n                case 'M':\r\n                    return \"botao-apartamento-manutencao\";\r\n                case 'V':\r\n                    return \"botao-apartamento-vistoria\";\r\n                case 'S':\r\n                    return \"botao-apartamento-supervisao\";\r\n                case 'I':\r\n                    return \"botao-apartamento-interditado\";\r\n                case 'D':\r\n                    return \"botao-apartamento-limpeza-simples\";\r\n                case 'C':\r\n                    return \"botao-apartamento-limpeza-completa\";\r\n                default:\r\n                    return \"botao-apartamento-ocupado\";\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Apartamento>\r\n                {\r\n                    apartamentos.map((ap, i) => {\r\n                            return (\r\n                                <a className={getCorSituacao(ap)}\r\n                                    key={i}\r\n                                    href=\"#\" \r\n                                    onClick={ () => onApartamentoClick(ap) }>{ap.id}\r\n                                    </a> \r\n                            )\r\n                        }\r\n                    )\r\n                }\r\n            </Apartamento>\r\n        );\r\n    }\r\n\r\n    // <FaBell onClick={onNotificacoesClick} className=\"sino\" type=\"button\"  />               \r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <Link to=\"#\" onClick={onVoltarClick}>\r\n                        <BsArrowLeftShort type=\"button\" className=\"seta\" />\r\n                    </Link>\r\n                </div>\r\n                <h1 style={{ fontSize: 22  }}>\r\n                    {\r\n                        ( apartamento && apartamento.SitAtual !== 'O' ) ? 'Suíte ' + apartamento.id : 'Suítes'\r\n                    }\r\n                </h1>\r\n            </div>\r\n            {\r\n              ( apartamento && apartamento.SitAtual !== 'O' ) ? <AtualizaStatusSuite /> : <Apartamentos />\r\n            }\r\n            <Alarme />\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nconst Apartamento = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    margin-top: 40px;\r\n  `;\r\n\r\n\r\nconst Container = styled.div`\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 80vh;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    box-sizing: content-box;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin: 16px 20px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 20px;\r\n    }\r\n`;\r\n","import { dateFormat1 } from '../utils/utils-context'\r\nexport default function ListaNotificacoes({pesquisa, items}) {\r\n    if (!items || items.length === 0) return 'Sem notificações!';\r\n    \r\n    const busca = items.filter((i) => {\r\n        \r\n        function naSuite(i) {\r\n            if (pesquisa.trim().length === 0) return true;\r\n            return i.suite === pesquisa;\r\n        }\r\n\r\n        function naNotificacao(i) {\r\n            function contain(a, b) { return a.toUpperCase().includes(b.toUpperCase())}\r\n            if (pesquisa.trim().length === 0) return true;\r\n            return contain(i.notificacao, pesquisa); // || contain(i.codigo, pesquisa);\r\n        }\r\n\r\n        return naSuite(i) || naNotificacao(i);\r\n\r\n    });\r\n\r\n    return busca.map(item => \r\n        <div type=\"button\" \r\n            key={item.id} \r\n            className=\"notifications\">\r\n            <div>        \r\n                <p style={{fontSize:14}}>Suíte {item.suite}</p>\r\n                <p style={{color: '#3fe799', fontSize:14}}>{item.notificacao}</p>\r\n                <p style={{fontSize:12}}>{dateFormat1(item.data)}</p>\r\n            </div>\r\n            <div></div>            \r\n        </div>\r\n    );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useParams, useLocation } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\n\r\nimport { \r\n    getLogin,\r\n} from '../utils/utils-context';\r\n\r\nimport ListaNotificacoes from './ListaNotificacoes';\r\n\r\nexport default function Notificacoes() {\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    \r\n    const [pesquisa, setPesquisa] = useState('');\r\n    \r\n    const [notificacoes, setNotificacoes] = useState([]);\r\n\r\n    const { origin } = useLocation();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n    },[]);\r\n\r\n    const onVoltarClick = () => {\r\n        switch (origin) {\r\n            case 'servico':\r\n                history.push({ pathname: `/servicos/${id}` });\r\n                break;\r\n            default:\r\n                history.push({ pathname: `/menu/${id}` });     \r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <Link to=\"#\" onClick={onVoltarClick}>\r\n                        <BsArrowLeftShort type=\"button\" className=\"seta\" />\r\n                    </Link>               \r\n                </div>\r\n                <h1 style={{ fontSize: 22  }}>Notificações</h1>\r\n            </div>\r\n            <div>\r\n                <div style={{ padding: '0px 10px' }} >\r\n                    <SearchBox>\r\n                        <form>\r\n                            <input value={pesquisa} onChange={(event) => {setPesquisa(event.target.value)}}\r\n                            placeholder=\"Digite aqui sua pesquisa\" />\r\n                        </form>                                    \r\n                    </SearchBox>\r\n                </div>\r\n                <ListaNotificacoes pesquisa={pesquisa} items={notificacoes} />\r\n\r\n            </div>\r\n        </div>\r\n);\r\n    \r\n}\r\n\r\nconst SearchBox = styled.div`\r\n    input {\r\n        margin-top: 50px;\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        padding: 16px;\r\n        width: 100%;\r\n\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n\r\n        display: flex;\r\n        align-items: center;\r\n       \r\n    }\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport { getLogin, getConta, getHost } from '../utils/utils-context';\r\n\r\nimport Alarme from './Alarme';\r\n\r\nconst MenuWINLETOM = () => {\r\n\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  \r\n  const [conta] = useState(getConta());\r\n  const [login] = useState(getLogin());\r\n\r\n  const host = getHost();\r\n\r\n  const onCardapioClick = () => {\r\n    history.push({ pathname: `/cardapio/${id}`, busca: true });\r\n  }\r\n\r\n  const onPedidosClick = () => {\r\n    history.push({ pathname: `/pedidos/${id}` });\r\n  }\r\n\r\n  const onInformacoesClick = () => {\r\n    history.push({ pathname: `/informacoes/${id}` });\r\n  }\r\n\r\n  const onServicoClick = () => {\r\n    history.push({ pathname: `/servicos/${id}` });\r\n  }\r\n\r\n  // const onNotificacoesClick = () => {\r\n  //   history.push({ pathname: `/notificacoes/${id}`, origin: 'menu' });\r\n  // }\r\n\r\n  const onApartamentosClick = () => {\r\n    history.push({ pathname: `/apartamentos/${id}` });\r\n  }\r\n\r\n  const onSairClick = () => {\r\n    localStorage.setItem('login', null);\r\n    history.push({ pathname: `/${id}` });\r\n  }\r\n  \r\n  // https://api-sistema-mde.herokuapp.com\r\n\r\n  return (\r\n      <Container>\r\n\r\n        <ImgContainer>\r\n          <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n        </ImgContainer>\r\n\r\n        <CardContainer>\r\n              <a href=\"#\" onClick={onInformacoesClick} className=\"requests\">Informações</a>\r\n        </CardContainer>\r\n\r\n        <CardContainer>\r\n          <a href=\"#\" onClick={onCardapioClick} className=\"requests\">Cardápio</a>\r\n        </CardContainer>\r\n\r\n        {\r\n          login.perfil == 'camareira' ? (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onServicoClick} className=\"requests\">Serviço</a>\r\n            </CardContainer>\r\n            ) : ''\r\n        }\r\n\r\n        {\r\n          // login.perfil == 'camareira' ? (\r\n          //   <CardContainer>\r\n          //     <a href=\"#\" onClick={onNotificacoesClick} className=\"requests\">Notificações</a>\r\n          //   </CardContainer>\r\n          //   ) : ''\r\n        }\r\n\r\n        <CardContainer>\r\n          <a href=\"#\" onClick={onSairClick}>Sair</a>\r\n        </CardContainer>\r\n\r\n      </Container>\r\n  );\r\n\r\n}\r\n\r\n/*\r\n        {\r\n          (login.login) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onPedidosClick} className=\"consumme\">Pedidos</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n*/\r\n\r\nconst MenuWINRESTA = () => {\r\n\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  const [conta] = useState(getConta());\r\n  \r\n  const host = getHost();\r\n\r\n  const onCardapioClick = () => {\r\n    history.push({ pathname: `/cardapio/${id}` });\r\n  }\r\n\r\n  const onPedidosClick = () => {\r\n    history.push({ pathname: `/pedidos/${id}` });\r\n  }\r\n\r\n  const onSairClick = () => {\r\n    localStorage.setItem('login', null);\r\n    history.push({ pathname: `/${id}` });\r\n  }\r\n\r\n  return (\r\n\r\n    <Container>\r\n\r\n      <ImgContainer>\r\n        <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n      </ImgContainer>\r\n\r\n      <CardContainer>\r\n        <a href=\"#\" onClick={onCardapioClick} className=\"requests\">Cardápio</a>\r\n      </CardContainer>\r\n\r\n      <CardContainer>\r\n        <a href=\"#\" onClick={onSairClick}>Sair</a>\r\n      </CardContainer>\r\n\r\n    </Container>\r\n);\r\n\r\n/*\r\n      <CardContainer>\r\n          <a href=\"#\" onClick={onPedidosClick} className=\"consumme\">Pedidos</a>\r\n      </CardContainer>\r\n*/\r\n\r\n}\r\n\r\nconst MenuWINLETOH = () => {\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  \r\n  const [conta] = useState(getConta());\r\n  const [login] = useState(getLogin());\r\n\r\n  console.log(login);\r\n\r\n  const host = getHost();\r\n\r\n  const onCardapioClick = () => {\r\n    history.push({ pathname: `/cardapio/${id}` });\r\n  }\r\n\r\n  const onPedidosClick = () => {\r\n    history.push({ pathname: `/pedidos/${id}` });\r\n  }\r\n\r\n  const onInformacoesClick = () => {\r\n    history.push({ pathname: `/informacoes/${id}` });\r\n  }\r\n\r\n  const onSairClick = () => {\r\n    localStorage.setItem('login', null);\r\n    history.push({ pathname: `/${id}` });\r\n  }\r\n  \r\n  // https://api-sistema-mde.herokuapp.com\r\n\r\n  return (\r\n      <Container>\r\n\r\n        <ImgContainer>\r\n          <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n        </ImgContainer>\r\n\r\n        {\r\n          (login.login) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onInformacoesClick} className=\"requests\">Informações</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n\r\n        {\r\n          (login.cardapios === -1) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onCardapioClick} className=\"requests\">Cardápio</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n\r\n        <CardContainer>\r\n          <a href=\"#\" onClick={onSairClick}>Sair</a>\r\n        </CardContainer>\r\n\r\n      </Container>\r\n  );\r\n\r\n  /*\r\n        {\r\n          (login.login) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onPedidosClick} className=\"consumme\">Pedidos</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n */\r\n\r\n}\r\n\r\nexport default function Menu() {\r\n\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  const [login] = useState(getLogin());\r\n  const [conta] = useState(getConta());\r\n  \r\n  useEffect(() => {\r\n    if (login == null) history.push({ pathname: `/entrar/${id}/${Date.now()}` });\r\n    console.log(login);\r\n  },[]);\r\n\r\n  return (\r\n    <div>\r\n      <MenuWINLETOM />\r\n      <Alarme  />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        conta.sistema === 'WINLETOM' ? ( <MenuWINLETOM /> ) : (\r\n          conta.sistema === 'WINRESTA' ? ( <MenuWINRESTA /> ) : ( <MenuWINLETOH /> )\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 80vh;\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n  background: #232129;\r\n  margin-top: 90px;\r\n  border-radius: 8px;\r\n\r\n  img {\r\n    border-radius: 8px;\r\n  }\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin-top: 16px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 26px;\r\n    }\r\n`;\r\n","// https://blog.heroku.com/deploying-react-with-zero-configuration\r\nimport React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport api from '../services/api';\r\nimport { \r\n  setLogin, \r\n  getConta, \r\n  getHost, \r\n  setMesaAtual, \r\n  setCardapioAtual,\r\n  setSuiteAtual,\r\n  getColab,\r\n  contaEncerrada } from '../utils/utils-context';\r\n\r\n  const Offline = () => {\r\n    return(\r\n      <div>\r\n\r\n      </div>\r\n    );\r\n\r\n  }\r\nconst EntrarWINLETOM = () => {\r\n\r\n  const host = getHost();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [suite, setSuite] = useState(''); //useState('9101'); // provisorio\r\n  const [cpf, setCPF] = useState(''); // // useState('10317046802'); // provisorio\r\n  const [conta] = useState(getConta());\r\n\r\n  return(\r\n    <Container>\r\n        <Content>\r\n        <img src={`${host}/api/logo/${conta?.codigo}`}  alt=\"logo\" />\r\n        <form>\r\n            <h1>Entrar</h1>\r\n            {\r\n              conta?.ativo === 'N' ? <p style={{ color: 'orange' }}>Serviço temporariamente for do ar!</p> : ''\r\n            }\r\n            <input \r\n              value={suite} \r\n              disabled={conta?.ativo === 'N'}\r\n              onChange={(event) => {setSuite(event.target.value)}}            \r\n              placeholder=\"Suíte nº\"/>\r\n            <input \r\n              value={cpf} \r\n              disabled={conta?.ativo === 'N'}\r\n              onChange={(event) => {setCPF(event.target.value)}}            \r\n              placeholder=\"Documento (somente dígitos)\"/>\r\n\r\n            <button onClick={(event) => {\r\n\r\n                event.preventDefault();\r\n              \r\n                if (conta?.ativo === 'N') {\r\n                  history.push({ pathname: `/${id}/${Date.now()}` });\r\n                  return;\r\n                }\r\n                \r\n                const data = (suite == 0) \r\n                  ? { id: id, login: null, senha: cpf }\r\n                  : { id: id, suite: suite, cpf: cpf };\r\n\r\n                api.post('/api/entrar', data).then(response => {\r\n\r\n                  // Provisório \r\n                  //response.data.perfil = 'camareira';\r\n                  \r\n                  console.log('Login:', response.data);\r\n\r\n                  if (contaEncerrada(response.data)){\r\n                    history.push({ pathname: `/${id}` });\r\n                    return;\r\n                  }\r\n                  \r\n                  setLogin(response.data);\r\n                  setSuiteAtual(response.data.suite);\r\n\r\n                  history.push({ pathname: `/menu/${id}/${Date.now()}` });\r\n\r\n                }).catch((error) => {\r\n                    if (error.response) console.log(error.response.status);\r\n                });\r\n                \r\n            }}>\r\n              {\r\n                conta?.ativo === 'S' ? 'Entrar' : 'Voltar'\r\n              }\r\n              </button>\r\n\r\n        </form>\r\n        </Content>\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\nconst EntrarWINRESTA = () => {\r\n\r\n  const host = getHost();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [usuario, setUsuario] = useState('padrao');\r\n  const [senha, setSenha] = useState('');\r\n  const [conta] = useState(getConta());\r\n\r\n  /*\r\n    <input \r\n    value={usuario} \r\n    onChange={(event) => {setUsuario(event.target.value)}}            \r\n    placeholder=\"Usuário\" />\r\n  */\r\n\r\n    return(\r\n    <Container>\r\n        <Content>\r\n        <img src={`${host}/api/logo/${conta?.codigo}`}  alt=\"logo\" />\r\n        <form>\r\n            <h1>Entrar</h1>\r\n            <input \r\n              type='password'\r\n              value={senha} \r\n              onChange={(event) => {setSenha(event.target.value)}}            \r\n              placeholder=\"Senha\"/>\r\n            <button onClick={(event) => {\r\n                event.preventDefault();\r\n                api.post('/api/entrar', {\r\n                  id: id,\r\n                  login: usuario,\r\n                  senha: senha,\r\n                }).then(response => {\r\n                  console.log('Login:', response.data);\r\n                  setLogin(response.data);\r\n                  setMesaAtual(null);\r\n                  history.push({ pathname: `/menu/${id}` });\r\n                }).catch((error) => {\r\n                    if (error.response) console.log(error.response.status);\r\n                });\r\n            }}>Entrar\r\n            </button>\r\n        </form>\r\n        </Content>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst EntrarWINLETOH = () => {\r\n  const host = getHost();\r\n  const [conta] = useState(getConta());\r\n\r\n  return (\r\n    <Container>\r\n        <Content>\r\n          <img src={`${host}/api/logo/${conta?.codigo}`}  alt=\"logo\" />\r\n        </Content>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default function Entrar() {\r\n\r\n  const { id } = useParams();\r\n  \r\n  const history = useHistory();\r\n  const [login] = useState(null); //getLogin());\r\n  const [colab] = useState(getColab());\r\n  const [conta] = useState(getConta());\r\n  \r\n  console.log('Conta:', conta);\r\n\r\n  useEffect(() => {\r\n    setCardapioAtual(null);\r\n    setSuiteAtual(null);\r\n    document.title = conta?.hotel;\r\n  },[]);\r\n\r\n  return <EntrarWINLETOM />;\r\n  \r\n  return (\r\n    (conta?.sistema == 'WINRESTA' || colab) ? ( <EntrarWINRESTA /> ) : (<EntrarWINLETOM />)\r\n  )\r\n\r\n}\r\n\r\n//    conta?.sistema === 'WINLETOM' ? ( <EntrarWINLETOM /> ) : (\r\n//  conta?.sistema === 'WINRESTA' ? ( <EntrarWINRESTA /> ) : ( <EntrarWINLETOM /> )\r\n//  )\r\n\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  place-content: center;\r\n\r\n  width: 100%;\r\n  max-width: 700px;\r\n\r\n  img {\r\n    border-radius:7px;\r\n  }\r\n\r\n  form {\r\n    margin: 80px 0;\r\n    width: 340px;\r\n    text-align: center;\r\n\r\n    h1 {\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    input {\r\n      background: #232129;\r\n      border-radius: 10px;\r\n      padding: 16px;\r\n      width: 100%;\r\n\r\n      color: #666360;\r\n      border: 2px solid #232129;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      margin-top: 8px;\r\n      \r\n    }\r\n\r\n    button {\r\n      background: #ff9000;\r\n      height: 56px;\r\n      border-radius: 10px;\r\n      border: 0;\r\n      padding: 0 16px;\r\n      color: #312e38;\r\n      width: 100%;\r\n      font-weight: 500;\r\n      margin-top:16px;\r\n      transition: background-color 0.2s;\r\n      font-weight: bold;\r\n\r\n      &:hover {\r\n        background:${shade(0.2, '#ff9000')};\r\n      }\r\n    }\r\n  }\r\n\r\n  > a {\r\n    color: #ff9000;\r\n    display: block;\r\n    margin-top: 24px;\r\n    text-decoration: none;\r\n    transition: color 0.2s;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &:hover {\r\n      color: ${shade(0.2, '#ff9000')}\r\n    }\r\n  }\r\n`;\r\n\r\n/*\r\nconst Background = styled.div`\r\n  flex: 1;\r\n  background: url(${hotelImg}) no-repeat center;\r\n  background-size: cover;\r\n`;\r\n*/\r\n","import React from 'react';\r\nimport {\r\n\tBrowserRouter,\r\n\tSwitch,\r\n\tRoute,\r\n} from \"react-router-dom\";\r\n\r\n//import Home from './pages/Home';\r\nimport QrCodeAuth from './pages/QrCodeAuth';\r\nimport Home       from './pages/Home';\r\n//import Product from './pages/Product/Product';\r\n\r\nimport Cardapio from './components/Cardapio';\r\nimport Apartamentos from './components/Apartamentos';\r\nimport AdicionaItem from './components/AdicionaItem';\r\nimport Pedidos from './components/Pedidos';\r\nimport Informacoes from './components/Informacoes';\r\nimport Servicos from './components/Servicos';\r\nimport Notificacoes from './components/Notificacoes';\r\nimport Menu from './components/Menu';\r\nimport Entrar from './components/Entrar';\r\n\r\nfunction Routes() {\r\n\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Switch>\r\n\r\n\t\t\t\t<Route path=\"/login/:id\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/home/:id\">\r\n\t\t\t\t\t<Home />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/home/:id/:rnd\">\r\n\t\t\t\t\t<Home />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/menu/:id\">\r\n\t\t\t\t\t<Menu />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/entrar/:id\">\r\n\t\t\t\t\t<Entrar />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/entrar/:id/:rnd\">\r\n\t\t\t\t\t<Entrar />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/cardapio/:id\">\r\n\t\t\t\t\t<Cardapio />\r\n\t\t\t\t</Route>\r\n\t\t\t\t\r\n\t\t\t\t<Route path=\"/apartamentos/:id\">\r\n\t\t\t\t\t<Apartamentos />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/adiciona/:id\">\r\n\t\t\t\t\t<AdicionaItem />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/pedidos/:id\">\r\n\t\t\t\t\t<Pedidos />\r\n\t\t\t\t</Route>\r\n\t\t\t\t\r\n\t\t\t\t<Route path=\"/informacoes/:id\">\r\n\t\t\t\t\t<Informacoes />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/servicos/:id\">\r\n\t\t\t\t\t<Servicos />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/notificacoes/:id\">\r\n\t\t\t\t\t<Notificacoes />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/:id\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/:id/:rnd\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t);\r\n}\r\n\r\nexport default Routes;","import Routes from './routes';\r\n\r\nimport './styles/global.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <Routes />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","//import api from '../../services/api';\r\n\r\n//Esse é o estado inicial, ou seja, assim que o Componente abriu e não consultou nada.\r\nconst initial_state = {\r\n  id: \"\",\r\n  total: 0,\r\n  pedidos: [\r\n    {\r\n      id: 0,\r\n      numero: \"0\",\r\n      realizado: \"\",\r\n      atendido: \"\",\r\n      total: 0,\r\n      produtos: [\r\n        {\r\n          produto: \"\",\r\n          tipo: \"\",\r\n          quantidade: \"0\",\r\n          preco: \"0\",\r\n          total: 0,\r\n          nota: \"\",\r\n          id: 0,\r\n        }\r\n      ],\r\n    }\r\n  ]\r\n};\r\n\r\n//Aqui cria-se um TYPE somente para ficar fácil de usar o mesmo nome nas actions.\r\nexport const actionsTypes = {\r\n  GET_CONSUMMATIONS: 'CONSUMMATIONS/GET',\r\n  INSERT_ORDER: \"CONSUMMATIONS/INSERT_ORDER\",\r\n  DELETE_ORDER: \"CONSUMMATIONS/DELETE_ORDER\"\r\n};\r\n\r\n//Aqui está listando todas as actions de consummations\r\nexport const actions = {\r\n  //Essa é a primeira action, que recebe o consumer por parametro para buscar suas consumações na API.\r\n  getConsummations: payload => {\r\n    return ({\r\n      //Esse aqui é o TYPE ali de cima, ou seja é uma action que Busca.\r\n      type: actionsTypes.GET_CONSUMMATIONS,\r\n      //O Payload é o resultado da api que vai ser usado no reducer, ou seja no estado global.\r\n      payload\r\n    });\r\n  },\r\n  insertOrder: payload => {\r\n    return ({\r\n      type: actionsTypes.INSERT_ORDER,\r\n      payload\r\n    })\r\n  }, \r\n  deleteOrder: payload => {\r\n    return({\r\n      type: actionsTypes.DELETE_ORDER,\r\n      payload\r\n    })\r\n  }\r\n};\r\n\r\n//Esse é o reducer em si, cada CASE, é referente a uma action.\r\nconst consummationReducer = (state = initial_state, action) => {\r\n  switch (action.type) {\r\n    //Esse actions chamará a action ali de cima, recebendo um valor no PAYLOAD.\r\n    case actionsTypes.GET_CONSUMMATIONS:\r\n      //Aqui ele verificou qual é a action, e seta no estado global, a resposta do Payload.\r\n      return action.payload;\r\n    case actionsTypes.INSERT_ORDER:\r\n      let novoState = state;\r\n      let novasOrdens = state.orders;\r\n      novasOrdens.push(action.payload);\r\n      novoState.orders = novasOrdens;\r\n      return novoState;\r\n    default:\r\n      //Por padrão se não tiver alteração o reducer devolve o state já existente.\r\n      return state\r\n  }\r\n};\r\n\r\nexport default consummationReducer;","import { createStore, combineReducers } from 'redux';\r\nimport consummationReducer from './consummation/Consummation.reducer';\r\n\r\n//Aqui combina todos os reducers.\r\nconst rootReducer = combineReducers({\r\n  consummations: consummationReducer\r\n});\r\n\r\n//Função do proprio redux para criar o Global State.\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n//Provider é obrigatório importar, para o redux;\r\nimport { Provider } from 'react-redux'\r\n//Esse é o import do store, ou seja do corpo dos reducers.\r\nimport store from './store/store'\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <Provider store={ store }>\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\nreportWebVitals();\r\n"],"sourceRoot":""}