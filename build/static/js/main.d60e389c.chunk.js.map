{"version":3,"sources":["utils/utils-context.js","services/api.js","pages/QrCodeAuth/index.js","pages/Home/index.js","utils/getPreco.js","components/ListaItensCardapio.js","utils/alertas.js","components/LocalEntrega.js","components/ListaItensCarrinho.js","components/MostraCardapios.js","components/Alarme.js","components/Cardapio.js","components/Apartamentos.js","components/Counter.js","components/AdicionaItem.js","components/MostraComanda.js","components/MostraPedidos.js","components/Pedidos.js","components/Informacoes.js","components/ExigirObsEPeriodo.js","components/Servicos.js","components/ListaNotificacoes.js","components/Notificacoes.js","components/Menu.js","components/Entrar.js","routes.jsx","App.js","store/consummation/Consummation.reducer.js","store/store.js","reportWebVitals.js","index.js"],"names":["getLogin","login","JSON","parse","localStorage","getItem","uuid","setLogin","setItem","stringify","getConta","conta","sistema","setConta","setApartamentoAtual","ap","id","getApartamentoAtual","setCardapioAtual","cardapio","getCardapioAtual","cardapioAtual","error","getMesaAtual","mesa","setMesaAtual","getSuiteAtual","suite","setSuiteAtual","getGrupoAtual","contaEncerrada","console","log","checkout","ativo","data","substr","hora","parts","split","_data","Date","dateFormat1","dt","wd","toString","days","now","date","padTo2Digits","num","padStart","getDate","getMonth","getFullYear","join","formatDate","api","axios","create","baseURL","withCredentials","headers","QrCodeAuth","useParams","setId","colab","history","useHistory","location","useLocation","pathname","indexOf","_useState","useState","_useState2","_slicedToArray","_useState3","useEffect","document","title","hotel","get","concat","then","response","push","Home","getPreco","preco","quant","arguments","length","undefined","R$","valor","isNaN","Math","round","toLocaleString","style","currency","parseInt","ListaItensCardapio","_ref","pesquisa","items","onItemClick","grupo","filter","i","contain","a","b","toUpperCase","includes","trim","lenght","descricao","codigo","naPesquisa","tipo","noGrupo","map","item","_jsx","type","onClick","className","children","_jsxs","padding","width","float","fontSize","color","maxWidth","nota","SemItensStyle","styled","p","_templateObject","_taggedTemplateLiteral","alerta","message","onYes","onNo","onOk","confirmAlert","buttons","label","LocalEntrega","locais","obsMensagemLocal","onLocalizacao","onObservacao","localizacao","onChange","event","target","value","local","placeholder","ListaItensCarrinho","suite_id","onCarrinhoVazio","onFinalizaPedido","total","carrinho","setCarrinho","_useState4","mensagem","setMensagem","_useState5","_useState7","_useState9","_useState10","_useState11","_useState13","_useState15","_useState16","setLocalizacao","_useState17","_useState19","obsLocal","_useState20","mensagemLocalizacao","setMensagemLocalizacao","_useState21","_useState22","observacao","setObservacao","isCheckout","_login$suite","mounted","apartamento","url","onEnviarPedidoClick","_login$suite3","obrigatorio","localizacaoObrigatoria","post","catch","onCancelarPedidoClick","_login$suite4","delete","Painel","_ref2","NumeroSuite","_ref4","_login$suite5","overflow","href","Itens","_ref5","onListaVazia","_login$suite2","quantidade","atendido","localizacaoAtual","texto","obs","MostraCardapios","onCardapioClick","cardapios","setCardapios","c","Container","CardContainer","div","_templateObject2","shade","Alarme","Cardapio","busca","setCardapio","_useState6","buscaCardapio","setBuscaCardapio","_useState8","buscaGrupo","setBuscaGrupo","produtos","setProdutos","_useState12","_useState14","grupos","setGrupos","setGrupo","_useState18","mostraCarrinho","setMostraCarrinho","cssProduto","setCSSProduto","cssCarrinho","setCSSCarrinho","_grupos","getGrupos","onProdutosClick","onCarrinhoClick","onBuscaCarpadioClick","onGrupoClick","onGrupoSelecionadoClick","g","setGrupoAtual","MostraGrupos","Grupo","BtnGrupo","BsChevronDown","display","MostraCardapio","_useState23","_useState24","setPesquisa","Link","to","SearchBox","MenuCardapio","BsHouseDoor","Apartamentos","apartamentos","setApartamentos","BsArrowLeftShort","Apartamento","onApartamentoClick","Counter","onUpdate","Contador","ButtonCounter","BiMinus","BiPlus","AdicionaItem","SitAtual","sort","produto","setMesa","adicionado","setAdicionado","setApartamento","imagem","detalheItem","setDetalheItem","buscaApartamentos","setBuscaApartamentos","onVoltarClick","MostraApartamentos","DetalheItem","ImgContainer","src","alt","marginTop","textAlign","marginBottom","setQuant","setNota","q","_login$funcionario_id","_login$suite_id","_login$NrHospede","funcionario","funcionario_id","foto","produto_id","hospede","NrHospede","e","FaBed","_templateObject3","MostraComanda","comanda","onPesquisarMesa","onTrocarItemMesa","PesquisaMesa","ListaItensComanda","Total","TrocarMesa","_ref3","trocar","novaMesa","setNovaMesa","TrocaMesa","trocarMesa","setTrocarMesa","MostraPedidos","pedidos","pedido","ListaItensPedido","Pedidos","setPedidos","nova_mesa","Informacoes","build","opcao","setOpcao","titulo","setTitulo","timer","cpf","status","MenuPrincipal","onPerfilClick","onContaClick","InfoPerfil","InfoFuncionario","InfoHospede","InfoConta","InfoUsers","diarias","extras","taxas","antecipado","saldo","reserva","checkin","TextArea","textarea","Input","input","ExigirObsEPeriodo","props","_Fragment","onChangeDtInicio","onChangeDtFim","onChangeObs","Servicos","TIMER","onTimer","setInterval","setTimeout","clearInterval","mudaStatus","dtInicio","dtFim","onMudaStatusClick","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","obterSituacaoUH","_obterSituacaoUH","res","wrap","_context2","prev","next","_callee","dados","_context","sent","abrupt","PedirObservacao","PedirPeriodo","stop","apply","_x2","_x3","_x","AtualizaStatusSuite","opcoes","status_suites","_callee3","_context3","getCorSituacao","ListaNotificacoes","naSuite","notificacao","naNotificacao","Notificacoes","notificacoes","origin","MenuWINLETOM","perfil","Menu","EntrarWINLETOM","setSuite","setCPF","Content","disabled","preventDefault","senha","Entrar","Routes","BrowserRouter","Switch","Route","path","exact","App","initial_state","numero","realizado","actionsTypes","consummationReducer","state","action","payload","novoState","novasOrdens","orders","rootReducer","combineReducers","consummations","store","createStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","Provider","React","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d60e389c.chunk.js","sourcesContent":["export function getLogin() {\r\n    var login = JSON.parse(localStorage.getItem('login'));\r\n    if (login == null) return null;\r\n    return login.uuid ? login : null;\r\n}\r\n\r\nexport function setLogin(login) {\r\n    localStorage.setItem('login', JSON.stringify(login));\r\n}\r\n\r\nexport function setColab(colab) {\r\n    localStorage.setItem('colab', (colab ? 'S' : 'N'));\r\n}\r\n\r\nexport function getColab() {\r\n    return localStorage.getItem('colab') === 'S';\r\n}\r\n\r\nexport function getConta() {\r\n    var conta = JSON.parse(localStorage.getItem('conta'));\r\n    if (conta == null) return null;\r\n    return conta.sistema ? conta : null;\r\n}\r\n\r\nexport function setConta(conta) {\r\n    localStorage.setItem('conta', JSON.stringify(conta));\r\n}\r\n\r\nexport function setApartamentoAtual(ap) {\r\n    ap = ap ? ap : {id: 0}\r\n    localStorage.setItem('Apartamento', JSON.stringify(ap));\r\n}\r\n\r\nexport function getApartamentoAtual() {\r\n    const ap = localStorage.getItem('Apartamento');\r\n    return ap == null ? {id: 0} : JSON.parse(ap);\r\n}\r\n\r\nexport function gravaCardapios(cardapios) {\r\n    console.log('gravando cardapios:', cardapios)\r\n    localStorage.setItem('CARDAPIOS', JSON.stringify(cardapios));\r\n}\r\n\r\nexport function recuperaCardapios() {\r\n    return JSON.parse(localStorage.getItem('CARDAPIOS'));\r\n}\r\n\r\nexport function setCardapioAtual(cardapio) {\r\n    cardapio = cardapio ? cardapio : {id: 0}\r\n    localStorage.setItem('Cardapio', JSON.stringify(cardapio));\r\n}\r\n\r\nexport function getCardapioAtual() {\r\n    const cardapioAtual = {id: 0}\r\n    try {\r\n        var cardapio = localStorage.getItem('Cardapio');\r\n        cardapio = cardapio == null ? cardapioAtual : JSON.parse(cardapio);\r\n        return cardapio;\r\n    } catch (error) {\r\n        return cardapioAtual\r\n    }\r\n}\r\n\r\nexport function getMesaAtual() {\r\n    const mesa = localStorage.getItem('mesa');\r\n    return  mesa === null ? '' : mesa;\r\n}\r\n\r\nexport function setMesaAtual(mesa) {\r\n    localStorage.setItem('mesa', mesa === null ? '' : mesa);\r\n}\r\n\r\nexport function getSuiteAtual() {\r\n    const suite = getApartamentoAtual().id > 0 ? \r\n        getApartamentoAtual().id \r\n        : localStorage.getItem('suite');\r\n    return  suite === null ? '' : suite;\r\n}\r\n\r\nexport function setId(id) {\r\n    localStorage.setItem('id', id);\r\n}\r\n\r\nexport function getId() {\r\n    return localStorage.getItem('id');\r\n}\r\n\r\nexport function setSuiteAtual(suite) {\r\n    localStorage.setItem('suite', suite === null ? '' : suite);\r\n}\r\n\r\nexport function getGrupoAtual() {\r\n    return localStorage.getItem('grupo');\r\n}\r\n\r\nexport function setGrupoAtual(grupo) {\r\n    localStorage.setItem('grupo', grupo);\r\n}\r\n\r\nexport function contaEncerrada(login) {\r\n    console.log('contaEncerrada.login.checkout:', login.checkout);\r\n    if (!login.checkout) return false;\r\n    const conta = getConta();\r\n    if (conta.ativo === 'N') return true;\r\n    const data = login.checkout.substr(0, 10);\r\n    const hora = login.checkout.substr(11);\r\n    const parts = data.split('/');\r\n    const _data = parts[2] + '-' + parts[1] + '-' + parts[0] + ' ' + hora;\r\n    return ( (new Date()) >= (new Date(_data)))\r\n}\r\n\r\nexport function getHost() {\r\n   //return 'http://localhost:8000'; // desenvolvimento\r\n   return 'https://api.mde.com.br:8080'; // produção\r\n   //return 'http://api2.mde.com.br:9091'; \r\n}\r\n\r\nexport function dateFormat1(data) {\r\n    \r\n    function formatDate(date) {\r\n        function padTo2Digits(num) {\r\n            return num.toString().padStart(2, '0');\r\n        }\r\n        return [\r\n            padTo2Digits(date.getDate()),\r\n            padTo2Digits(date.getMonth() + 1),\r\n            date.getFullYear(),\r\n        ].join('/');\r\n    }\r\n\r\n    const weekDays = { \r\n        'Sun': 'DOMINGO', \r\n        'Mon': 'SEGUNDA-FEIRA', \r\n        'Tue': 'TERÇA-FEIRA', \r\n        'Wed': 'QUARTA-FEIRA', \r\n        'Thu': 'QUINTA-FEIRA', \r\n        'Fri': 'SEXTA-FEIRA', \r\n        'Sat': 'SÁBADO' \r\n    };\r\n\r\n    const dt = new Date(data);\r\n    const wd = (dt).toString().substr(0, 3);\r\n    const days = Date.now() - Date.parse(data);\r\n\r\n    if (days === 0) return 'HOJE';\r\n    if (days === 1) return 'ONTEM';\r\n    if (days < 7) return weekDays[wd];\r\n\r\n    return formatDate(dt);\r\n}\r\n","import axios from 'axios';\r\nimport { getHost } from '../utils/utils-context';\r\n\r\nconst api = axios.create({\r\n    //baseURL: 'http://localhost:8000',\r\n    baseURL: getHost(),\r\n    withCredentials: false,\r\n    headers: { \r\n      'Access-Control-Allow-Origin' : '*',\r\n      'Access-Control-Allow-Methods' : 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\r\n    },  \r\n})\r\n\r\nexport default api;\r\n\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport QrReader from 'react-qr-reader';\r\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\r\nimport { setConta, getConta, setLogin, getLogin, setColab, getHost, getId, setId } from '../../utils/utils-context';\r\n\r\nimport api from \"../../services/api\";\r\n\r\nimport '../../styles/qrCode.css';\r\n\r\n//import hotellogo from '../../assets/hotellogo.png';\r\n\r\nfunction QrCodeAuth() {\r\n\r\n\tlet { id } = useParams();\r\n\t\r\n\tif (id) setId(id);\r\n\telse id = getId();\r\n\r\n\tconsole.log('id:', id);\r\n\r\n\tconst history = useHistory();\r\n\tconst location = useLocation();\r\n\t\r\n\tsetColab(location.pathname.indexOf('/login') !== -1);\r\n\r\n\tconst [result, setResult] = useState(\"Aponte a câmera do seu celular para o QR CODE\");\r\n\r\n\tconst [login] = useState(getLogin());\r\n\r\n\tconst handleScan = code => {\r\n\t\tif (code) {\r\n\t\t\tapi.get(`/api/order/info/${code}`).then(response => {\r\n\t\t\t\tconsole.log('Conta:', response.data);\r\n\t\t\t\tsetConta(response.data);\r\n\t\t\t\tsetLogin(null);\r\n\t\t\t\thistory.push({ pathname: `/home/${code}` });\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleError = err => {\r\n\t\tconsole.log(\"ERROR:\", err);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst conta = getConta();\r\n\r\n\t\tconsole.log('QrCodeAuth.login:', login, id, conta);\r\n\t\t\r\n\t\tdocument.title = conta ? conta.hotel : 'MDE Pedidos';\r\n\r\n\t\tif (login == null || login.uuid !== id) {\r\n\r\n\t\t\tconsole.log('getHost:', getHost());\r\n\t\t\t\r\n\t\t\tapi.get(`/api/order/info/${id}`).then(response => {\r\n\t\t\t\tconsole.log('Conta:', response.data);\r\n\t\t\t\tsetConta(response.data);\r\n\t\t\t\tsetLogin(null);\r\n\t\t\t\thistory.push({ pathname: `/home/${id}/${Date.now()}` });\r\n\t\t\t});\t\t\r\n\t\r\n\t\t} else {\r\n\r\n\t\t\thistory.push({ pathname: `/menu/${id}/${Date.now()}` });\r\n\r\n\t\t}\r\n\r\n\t},[]);\r\n\r\n\t//handleScan('e7886e3d-c81c-4829-8a57-7768d8148754'); // WinResta\r\n\t//handleScan('d88b870b-5ac4-4836-9c31-47d91f94e648'); // WinLetoh\r\n\t//return('d88b870b-5ac4-4836-9c31-47d91f94e650'); // WinLetom\r\n\treturn ('');\r\n\r\n\treturn (\r\n\t\t<div id=\"qrCode\">\r\n\t\t\t<p style={{ fontSize: 28, paddingTop: '30px' }}>Seja bem-vindo(a)</p>\r\n\t\t\t<div className=\"qrContent\">\r\n\t\t\t\t<QrReader\r\n\t\t\t\t\tdelay={300}\r\n\t\t\t\t\tonError={handleError}\r\n\t\t\t\t\tonScan={handleScan}\r\n\t\t\t\t\tstyle={{ width: '80%', paddingTop: '20px', maxWidth: '300px' }}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<p style={{ \r\n\t\t\t\t\tborderRadius:'15px', \r\n\t\t\t\t\tposition: 'static', \r\n\t\t\t\t\tbackground: '#3E3B47', \r\n\t\t\t\t\tmargin:'10%', \r\n\t\t\t\t\tpadding: '10%', \r\n\t\t\t\t\tcolor: '#F4EDE8', \r\n\t\t\t\t\tdisplay: 'flex', \r\n\t\t\t\t\talignItems: 'center', \r\n\t\t\t\t\tjustifyContent: \"center\" }}>\r\n\t\t\t\t\t\t{result}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default QrCodeAuth;\r\n\r\n/*\r\n\t<div className=\"hotelContent\">\r\n\t\t<img src={hotellogo} alt=\"Hotel\" />\r\n\t\t<p style={{ color: '#F4EDE8', fontSize: '20px', fontSize: '5vw' }}>Hotel Fradíssimo</p>\r\n\t</div>\r\n*/\r\n","import { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { getLogin } from '../../utils/utils-context';\r\n\r\nexport default function Home() {\r\n  \r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [login] = useState(getLogin());\r\n\r\n  useEffect(() => {\r\n      if (login == null) history.push({ pathname: `/entrar/${id}/${Date.now()}` });\r\n      else history.push({ pathname: `/menu/${id}/${Date.now()}` });\r\n    },[]);\r\n\r\n  return '';\r\n\r\n}\r\n","\r\nexport default function getPreco(preco, quant = 1) {\r\n    function R$(valor) {\r\n        valor = isNaN(valor) ? 0 : Math.round(valor * 100) / 100;\r\n        return (valor.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' }));\r\n    }\r\n    quant = parseInt(quant);\r\n    return ( quant === 1 ? R$(preco) : R$(preco) + ' x ' + quant + ' = ' + R$(preco * quant));\r\n}","//import '../styles/Requests.css';\r\nimport getPreco from '../utils/getPreco';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ListaItensCardapio({pesquisa, items, onItemClick, grupo}) {\r\n    \r\n    const renderSemItens = () => (        \r\n        <SemItensStyle>Sem itens!</SemItensStyle>        \r\n        )\r\n\r\n    if (!items || items.length === 0) return renderSemItens();\r\n\r\n    const busca = items.filter((i) => {\r\n        \r\n        function naPesquisa(i) {\r\n            function contain(a, b) { return a.toUpperCase().includes(b.toUpperCase())}\r\n            if (pesquisa.trim().lenght === 0) return true;\r\n            return contain(i.descricao, pesquisa) || contain(i.codigo, pesquisa);\r\n        }\r\n\r\n        function noGrupo(i) {\r\n            return i.tipo == grupo;\r\n        }\r\n\r\n        return naPesquisa(i) && noGrupo(i);\r\n\r\n    });\r\n\r\n    return busca.map(item => \r\n        <div type=\"button\" \r\n            onClick={() => onItemClick(item)} \r\n            key={item.id} \r\n            className=\"products\">\r\n            <div style={{padding: '10px', width: '100%'}}>\r\n                <div>\r\n                    <div style={{float:'left', width: '70%'}}>\r\n                        <p style={{fontSize:14, color:'#a2a276'}}>Nº {item.codigo}</p>\r\n                        <p style={{color:'#3fe799', fontSize:16, maxWidth: 190}}>{item.descricao}</p>\r\n                    </div>\r\n                    <div style={{float:'right'}}>\r\n                        <p style={{fontSize:18}}>{getPreco(item.preco)}</p>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <p style={{fontSize:14, width: '200px'}}>{item.nota}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst SemItensStyle = styled.p`\r\n    display: flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    font-size: 25px;\r\n`;\r\n\r\n/*\r\n    <div className=\"products-image\">\r\n        <img className=\"product-img\" src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${item.foto}`} alt=\"\"/>\r\n    </div>                \r\n*/","import { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; \r\n\r\nexport default function alerta({title, message, onYes, onNo, onOk}) {\r\n\r\n    if (!onYes && !onNo) {\r\n\r\n      confirmAlert({\r\n        title: title,\r\n        message: message,\r\n        buttons: [\r\n          {\r\n            label: 'OK',\r\n            onClick: () => {\r\n              if (typeof onOk === \"function\") onOk();\r\n            }\r\n          }\r\n        ]\r\n      });\r\n  \r\n      return;\r\n\r\n    }\r\n\r\n    confirmAlert({\r\n        title: title,\r\n        message: message,\r\n        buttons: [\r\n          {\r\n            label: 'SIM',\r\n            onClick: () => {\r\n                 if (typeof onYes === \"function\") onYes();\r\n            }\r\n          },{\r\n            label: 'NÃO',\r\n            onClick: () =>{\r\n                if (typeof onNo === \"function\") onNo();\r\n            }\r\n          }\r\n        ]\r\n    });\r\n\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport default function LocalEntrega({cardapio, locais, obsMensagemLocal, onLocalizacao, onObservacao}) {\r\n    //if (locais.length < 2) return '';\r\n    if (cardapio.localizacao === '0') return '';\r\n\r\n    return (\r\n\r\n        <div className=\"box_localizacao\">\r\n            <span>Sua Localização</span>\r\n            <select onChange={(event) => {onLocalizacao(event.target.value)}}> \r\n                {\r\n                    locais.map(local =>\r\n                        <option  \r\n                            key={local.codigo} \r\n                            value={local.codigo}>{local.descricao}\r\n                        </option>\r\n                    )\r\n                }\r\n            </select>\r\n            <textarea \r\n                type=\"text\" \r\n                placeholder={obsMensagemLocal}\r\n                onChange={(event) => {onObservacao(event.target.value)}} />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\n//import '../styles/Requests.css';\r\nimport getPreco from '../utils/getPreco'\r\nimport alerta from '../utils/alertas';\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { \r\n    getLogin, getMesaAtual, setLogin,\r\n    setMesaAtual, getConta, contaEncerrada,\r\n    getCardapioAtual, getSuiteAtual, setApartamentoAtual, getApartamentoAtual \r\n} from '../utils/utils-context';\r\n\r\nimport LocalEntrega from './LocalEntrega';\r\n\r\nexport default function ListaItensCarrinho({suite_id, onCarrinhoVazio, onFinalizaPedido}) {\r\n    \r\n    const history = useHistory();\r\n    const [carrinho, setCarrinho] = useState({ items:[], total: 0});\r\n    const [mensagem, setMensagem ] = useState('Aguarde...');\r\n    const [login] = useState(getLogin());\r\n    const [mesa] = useState(\r\n        getLogin().suite_id ? null : getMesaAtual()\r\n    );\r\n    \r\n    const [ suite, setSuite ] = useState(getSuiteAtual());\r\n\r\n    const [locais] = useState(getConta()['locais_entrega']);\r\n    const [cardapio] = useState(getCardapioAtual());\r\n    \r\n    const [localizacao, setLocalizacao] = useState(\r\n        getConta()['locais_entrega'] ? getConta()['locais_entrega'][0] : ''\r\n    );\r\n    \r\n    const [conta] = useState(getConta());\r\n\r\n    const [mensagemLocalizacao, setMensagemLocalizacao] = useState(conta.obsLocal);\r\n\r\n    const [observacao, setObservacao] = useState('');\r\n\r\n    const isCheckout = () => {\r\n        if (contaEncerrada(login)) {\r\n            setLogin(null);\r\n            history.push({ pathname: `/${login.uuid}` });\r\n            return true;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (isCheckout()) return;\r\n\r\n        let mounted = true;\r\n\r\n        if (!suite_id && !mesa && !suite) {\r\n            setMensagem('Sem ítens!');\r\n            return;\r\n        }\r\n        \r\n       // let url = '';\r\n        \r\n        const apartamento = getApartamentoAtual();\r\n\r\n        const ap = login.suite ?? apartamento.id;\r\n\r\n        const url = `/api/order/cart/${login.uuid}/${ap}`;\r\n\r\n        //if (suite_id || suite) {\r\n        //    url = `/api/order/cart/${login.uuid}/${suite_id || suite}`;\r\n        //} else {\r\n        //    url = `/api/order/cart/waiter/${mesa}`;\r\n        //} \r\n\r\n        //let url = '/api/order/cart/' + (suite_id ? '' : ('waiter/' + login.uuid + '/')) + (suite_id ?? mesa);\r\n\r\n        api.get(url).then(response => {\r\n\r\n            if (!mounted) return;\r\n\r\n            setCarrinho(response.data);\r\n\r\n            setMensagem(\r\n                response.data.items.length > 0 ? null : 'Sem ítens!'\r\n            );\r\n\r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    },[mesa, suite_id]);\r\n\r\n    const onItemClick = (item) => {\r\n        \r\n        if (isCheckout()) return;\r\n\r\n        //let url = '';\r\n\r\n        const apartamento = getApartamentoAtual();\r\n        const ap = login.suite ?? apartamento.id;\r\n        const url = `/api/order/cart/${login.uuid}/${ap}/${item.id}`;\r\n\r\n        //if (suite_id || suite)\r\n        //    url = `/api/order/cart/${login.uuid}/${suite_id || suite}/${item.id}`;\r\n        //else \r\n        //    url = `/api/order/cart/waiter/${mesa}/${item.id}`;\r\n\r\n        //let url = '/api/order/cart/' + (suite_id ? '' : ('waiter/' + login.uuid + '/')) + (suite_id ?? mesa);\r\n\r\n        alerta({ \r\n            title: 'Atenção!',\r\n            message: 'Excluir esse ítem?',\r\n            onYes: () => { \r\n                api.delete(url).then(response => {\r\n                    if (response.data.total === 0)\r\n                        setMesaAtual(null);    \r\n                    setCarrinho(response.data);\r\n                });                                \r\n             }\r\n        })\r\n\r\n    }\r\n\r\n    const isValid = () => {\r\n\r\n        function localizacaoObrigatoria(localizacao) {\r\n            if (!localizacao.obrigatorio) return false;\r\n            return localizacao.obrigatorio.toUpperCase() == 'S';\r\n        }\r\n\r\n        if (localizacaoObrigatoria(localizacao) && observacao.trim() === '') {\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: 'Informe detalhes de sua localização!'\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    const onEnviarPedidoClick = () => {\r\n        \r\n        if (isCheckout() || !isValid()) return;\r\n\r\n        const apartamento = getApartamentoAtual();\r\n        const ap = login.suite ?? apartamento.id;\r\n\r\n        alerta({ \r\n            title: 'Atenção!',\r\n            message: 'Enviar esse pedido?',\r\n            onYes: () => { \r\n                api.post('/api/order/cart', {\r\n                    suite_id: ap, //suite ?? suite_id,\r\n                    mesa: mesa,\r\n                    localizacao: localizacao,\r\n                    observacao: observacao,\r\n                    uuid: login.uuid\r\n                }).then(\r\n                    response => {\r\n                        setApartamentoAtual(null);\r\n                        setCarrinho(response.data);\r\n                        setMesaAtual(null);\r\n                        onCarrinhoVazio();\r\n                        onFinalizaPedido();\r\n                    }\r\n                ).catch(() => {\r\n                    setApartamentoAtual(null);\r\n                    //setCarrinho(response.data);\r\n                    setMesaAtual(null);\r\n                    onCarrinhoVazio();\r\n                    onFinalizaPedido();\r\n                });\r\n            }\r\n        });        \r\n\r\n    }\r\n\r\n    const onLocalizacao = (local) => {\r\n\r\n        const localizacaoAtual = locais.filter((item) => {\r\n            return local === item.codigo;\r\n        })[0];\r\n\r\n        setLocalizacao(localizacaoAtual);\r\n        \r\n        const texto = localizacaoAtual.texto ? localizacaoAtual.texto : conta.obsLocal ? conta.obsLocal : '';\r\n\r\n        setMensagemLocalizacao(texto);\r\n\r\n    }\r\n\r\n    const onObservacao = (obs) => {\r\n        setObservacao(obs);\r\n    }\r\n\r\n/*\r\n    const onTrocarMesa = (mesa) => {\r\n        setMesa(mesa);\r\n    }\r\n\r\n    const onTrocarMesaClick = () => {\r\n        setTrocarMesa(true);\r\n    }\r\n*/\r\n\r\n    const onCancelarPedidoClick = () => {\r\n\r\n        if (isCheckout()) return;\r\n\r\n        const apartamento = getApartamentoAtual();\r\n        const ap = login.suite ?? apartamento.id;\r\n        const url = `/api/order/cart/${login.uuid}/${ap}`;\r\n\r\n        //let url = '';\r\n        //if (suite_id || suite)\r\n        //    url = `/api/order/cart/${login.uuid}/${suite_id || suite}`;\r\n        //else \r\n        //    url = `/api/order/cart/waiter/${mesa}`;\r\n\r\n        //let url = '/api/order/cart/' + (mesa ? ('waiter/' + login.uuid + '/') : '') + (mesa ?? suite_id);\r\n\r\n        alerta({ \r\n            title: 'Atenção!',\r\n            message: 'Cancela o pedido?',\r\n            onYes: () => { \r\n                api.delete(`${url}/todos`).then(\r\n                    response => { \r\n                        setCarrinho(response.data);\r\n                        setApartamentoAtual(null);\r\n                        setMesaAtual(null);\r\n                        onCarrinhoVazio();\r\n                        onFinalizaPedido();\r\n                    }\r\n                )\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    const Painel = ({total}) => {\r\n\r\n        const NumeroMesa = ({mesa}) => {\r\n            if (!mesa) return '';\r\n            return (\r\n                <div className=\"numero-mesa\">Mesa: {mesa}</div>\r\n            );\r\n        }\r\n\r\n        const NumeroSuite = ({suite}) => {\r\n            \r\n            const apartamento = getApartamentoAtual();\r\n            const ap = login.suite ?? apartamento.id;\r\n\r\n            //if (!suite) return '';\r\n            return (\r\n                <div className=\"numero-mesa\">Suite: {ap}</div>\r\n            );\r\n        }\r\n\r\n        return(\r\n            <div className=\"container-product-info\">\r\n\r\n                <div style={{overflow: 'hidden'}}>\r\n                    <div className=\"total-carrinho\">Total: {getPreco(total)}</div>\r\n                    <NumeroSuite suite={suite} />\r\n                </div>\r\n\r\n                <a className=\"fecha-pedido\" href=\"#\" onClick={onEnviarPedidoClick} \r\n                    style={{color: 'white'}}>\r\n                    Enviar Pedido\r\n                </a>\r\n\r\n                <a className=\"cancela-pedido\" href=\"#\" onClick={onCancelarPedidoClick} \r\n                    style={{color: 'white'}}>\r\n                    Cancelar Pedido\r\n                </a>\r\n                \r\n                <br />\r\n                \r\n            </div>\r\n        )\r\n    }\r\n\r\n    const Itens = ({items, onListaVazia}) => {\r\n\r\n        if (items.length === 0) {\r\n            onListaVazia();\r\n            return '';\r\n        }\r\n\r\n        return(\r\n            items.map(item => \r\n                <div type=\"button\" \r\n                    onClick={() => onItemClick(item)}\r\n                    key={item.id} \r\n                    className=\"products\">\r\n                    <div style={{padding: '10px'}}>    \r\n                        <p style={{fontSize:14, color:'#a2a276'}}>Nº {item.codigo}</p>\r\n                        <p style={{color:'#3fe799', fontSize:16, maxWidth: 200}}>{item.descricao}</p>\r\n                        <p style={{fontSize:14, width: 300}}>{item.nota}</p>\r\n                        <p style={{fontSize:18}}>\r\n                            <span style={{color:'#8c8c8c'}}>{getPreco(item.preco, item.quantidade)}</span>\r\n                        </p>\r\n                        {\r\n                            item.atendido ? '' : <p className=\"toque\" style={{fontSize:14}}>Toque para excluir</p>\r\n                        }\r\n                    </div>\r\n                </div>\r\n           )\r\n        )\r\n\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            { \r\n                mensagem ? (\r\n\r\n                    <SemItensStyle>{mensagem}</SemItensStyle>\r\n\r\n                ) : (\r\n\r\n                    <div>\r\n\r\n                        <Itens \r\n                            items={carrinho.items} \r\n                            onListaVazia={\r\n                                () => { setMensagem('Sem ítens!') }\r\n                            } />\r\n\r\n                        <LocalEntrega \r\n                            cardapio={cardapio}\r\n                            locais={locais}\r\n                            obsMensagemLocal={mensagemLocalizacao}\r\n                            onLocalizacao={onLocalizacao} \r\n                            onObservacao={onObservacao} />\r\n\r\n                        <Painel total={carrinho.total} />\r\n\r\n                    </div>\r\n\r\n                ) \r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SemItensStyle = styled.p`\r\n    display: flex;\r\n    justify-content:center;\r\n    align-items:center;\r\n    font-size: 25px;\r\n`;\r\n\r\n/*\r\n                    <div className=\"products-image\">\r\n                        <img className=\"product-img\" src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${item.foto}`} alt=\"\"/>\r\n                    </div>\r\n\r\n*/\r\n","import React, { useEffect, useState } from 'react';\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { \r\n    setLogin,\r\n    getLogin,\r\n    contaEncerrada\r\n} from '../utils/utils-context';\r\n\r\nexport default function MostraCardapios({id, onCardapioClick}) {\r\n\r\n    const history = useHistory();\r\n    const [ cardapios, setCardapios ] = useState([]);\r\n    const [ login ] = useState(getLogin());\r\n    \r\n    useEffect(() => {\r\n    \r\n        let mounted = true;\r\n\r\n        api.get(`/api/cardapios/${id}`).then(response => {\r\n\r\n            if (!mounted) return;\r\n\r\n            if (contaEncerrada(login)) {\r\n                setLogin(null);\r\n                history.push({ pathname: `/${id}` });\r\n                return;\r\n            }\r\n    \r\n            console.log('Cardapios:', response.data);\r\n\r\n            setCardapios(\r\n                response.data.filter((c) => {\r\n                    if (login.cardapios == \"0\") return true; // funcionários e hóspedes\r\n                    return login.cardapios.indexOf(c.id) !== -1;\r\n                })\r\n            );\r\n\r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    }, []);\r\n    \r\n    /*\r\n                cardapios.map(cardapio =>\r\n                    <CardContainer id={cardapio.id}>\r\n                        <a href=\"#\" \r\n                            onClick={() => onCardapioClick(cardapio)} \r\n                            className=\"requests\">{cardapio.descricao}\r\n                        </a>\r\n                    </CardContainer>\r\n                )\r\n    */\r\n\r\n    return (\r\n            <Container>\r\n                {\r\n                cardapios.map(cardapio =>\r\n                        <CardContainer key={cardapio.id} id={cardapio.id}>\r\n                            <a href=\"#\" \r\n                                onClick={() => onCardapioClick(cardapio)} \r\n                                className=\"requests\">{cardapio.descricao}\r\n                            </a>\r\n                        </CardContainer>\r\n                    )\r\n                }\r\n            </Container>\r\n    )\r\n    \r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 80vh;\r\n  width: 350px;\r\n  margin-top: 20px;\r\n  `;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin-top: 20px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 26px;\r\n    }\r\n    \r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { getHost, getLogin } from '../utils/utils-context';\r\nimport api from '../services/api';\r\nimport alerta from '../utils/alertas';\r\n\r\nconst url = `${getHost()}/api/som/ding`;\r\n\r\nconst useAudio = () => {\r\n  const [audio] = useState(new Audio(url));\r\n  const [playing, setPlaying] = useState(false);\r\n\r\n  const toggle = () => setPlaying(!playing);\r\n\r\n  useEffect(() => {\r\n      playing ? audio.play() : audio.pause();\r\n    },\r\n    [playing]\r\n  );\r\n\r\n  useEffect(() => {\r\n    audio.addEventListener('ended', () => setPlaying(false));\r\n    return () => {\r\n      audio.removeEventListener('ended', () => setPlaying(false));\r\n    };\r\n  }, []);\r\n\r\n  return [playing, toggle];\r\n\r\n};\r\n\r\nexport default function Alarme() {\r\n  return '';\r\n}\r\nfunction Alarme2() {\r\n\r\n  const [playing, toggle] = useAudio();\r\n  const [login] = useState(getLogin());\r\n\r\n  var TIMER;\r\n\r\n  var showingDialog = false;\r\n\r\n  useEffect(() => { \r\n    \r\n    let mounted = true;\r\n    \r\n    TIMER = setInterval(function(){\r\n        if (!mounted) return;\r\n        \r\n        onTimer();\r\n\r\n    }, 5000);\r\n\r\n    return function cleanup() {\r\n        \r\n        mounted = false;\r\n\r\n        setTimeout(() => {\r\n            clearInterval(TIMER);\r\n            TIMER = null;\r\n        }, 1000);\r\n\r\n    }\r\n\r\n  },[]);\r\n\r\n  const notifyAlarmReceived = (alarm) => {\r\n    api.post(`/api/alarm/${login.uuid}/${alarm.suite}/${alarm.funcionario}`).then(response => {\r\n    });\r\n  }\r\n  \r\n  const getEmployee = (alarm) => {\r\n    if (alarm.funcionario == 0) return '';\r\n    return alarm.nome.trim().toUpperCase() + ', ';\r\n  };\r\n\r\n  const getMessage = (alarm) => {\r\n    return  alarm.mensagem.toLowerCase();\r\n  };\r\n\r\n  const showAlarmDialog = (alarm) => {\r\n    showingDialog = true;\r\n    const message = getEmployee(alarm) + getMessage(alarm);\r\n    toggle();\r\n    alerta({ \r\n      title: alarm.suite > 0 ? `Suíte ${alarm.suite}` : 'Atenção!',\r\n      message: message,\r\n      onOk: () => {\r\n        showingDialog = false;\r\n        notifyAlarmReceived(alarm);\r\n      }\r\n    });    \r\n  }\r\n\r\n  const isAlarmForMe = (alarm) => {\r\n    return (alarm.funcionario == login.funcionario_id) || (alarm.funcionario == 0);\r\n  }\r\n\r\n  const onTimer = () => {\r\n\r\n    if (showingDialog) {\r\n      toggle();\r\n      return;\r\n    }\r\n\r\n    api.get(`/api/alarms/${login.uuid}`).then(response => {\r\n      const alarms = response.data;\r\n      for (var i = alarms.length; i--;) {\r\n        var alarm = alarms[i];\r\n        if (isAlarmForMe(alarm)) {\r\n          showAlarmDialog(alarm);\r\n          return;\r\n        }\r\n      }\r\n    });    \r\n\r\n  }\r\n  \r\n  return '';\r\n\r\n}\r\n\r\n\r\n  ","import React, { useEffect, useState } from 'react';\r\nimport { BsHouseDoor, BsChevronDown } from \"react-icons/bs\";\r\nimport { Link, useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\n\r\nimport api from '../services/api';\r\n\r\nimport ListaItensCardapio from './ListaItensCardapio';\r\nimport ListaItensCarrinho from './ListaItensCarrinho';\r\nimport MostraCardapios from './MostraCardapios';\r\nimport Alarme from './Alarme';\r\n\r\n//import '../styles/product.css';\r\n\r\nimport { \r\n    setLogin,\r\n    getLogin,\r\n    getGrupoAtual, \r\n    getCardapioAtual, \r\n    setCardapioAtual,\r\n    contaEncerrada, \r\n    setGrupoAtual} from '../utils/utils-context';\r\n\r\nexport default function Cardapio() {\r\n\r\n    const { id } = useParams();\r\n\r\n    const history = useHistory();\r\n    \r\n    const [login] = useState(getLogin());\r\n    \r\n    const { busca } = useLocation();\r\n\r\n    const [ cardapio, setCardapio ] = useState(getCardapioAtual());\r\n    \r\n    const [ buscaCardapio, setBuscaCardapio ] = useState(cardapio.id === 0);\r\n\r\n    const [ buscaGrupo, setBuscaGrupo ] = useState(busca);\r\n    \r\n    //const [items, setItems]       = useState();\r\n    const [produtos, setProdutos] = useState([]);\r\n    const [servicos, setServicos] = useState([]);\r\n    const [grupos, setGrupos] = useState([]);\r\n    const [grupo, setGrupo] = useState(getGrupoAtual());\r\n\r\n    const [ mostraCarrinho, setMostraCarrinho ] = useState(false);\r\n\r\n    const [ cssProduto, setCSSProduto ] = useState(mostraCarrinho ? 'btnProdutos': 'btnProdutosClicked');\r\n    const [ cssCarrinho, setCSSCarrinho ] = useState(mostraCarrinho ? 'btnCarrinhoClicked' : 'btnCarrinho');\r\n\r\n    useEffect(() => {\r\n\r\n        //setBuscaGrupo(true);\r\n\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n        \r\n        if (cardapio.id === 0) return;\r\n        \r\n        if (contaEncerrada(login)) {\r\n            setLogin(null);\r\n            history.push({ pathname: `/${id}` });\r\n            return;\r\n        }\r\n    \r\n        let mounted = true;\r\n        \r\n        api.get(`/api/order/products/${login.uuid}/${cardapio.id}`).then(response => {\r\n\r\n            const getGrupos = (items) => {\r\n                const grupos = [];\r\n                for (var i in items) {\r\n                    if (grupos.includes(items[i].tipo)) continue;\r\n                    grupos.push(items[i].tipo);\r\n                }\r\n                return grupos;\r\n            }\r\n\r\n            if (!mounted) return;\r\n\r\n            setProdutos(response.data);\r\n            \r\n            const _grupos = getGrupos(response.data);\r\n\r\n            setGrupos(_grupos);\r\n            setGrupo(getGrupoAtual());\r\n            \r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    }, [cardapio]);\r\n    \r\n    //[items, cardapio]);\r\n\r\n    const setProdutoClicked = () => {\r\n        setCSSProduto('btnProdutosClicked');\r\n        setCSSCarrinho('btnCarrinho');\r\n    }\r\n\r\n    const setCarrinhoClicked = () => {\r\n        setCSSCarrinho('btnCarrinhoClicked');\r\n        setCSSProduto('btnProdutos');\r\n    }\r\n\r\n    const onProdutosClick = () => {\r\n        //setItems(produtos);\r\n        setMostraCarrinho(false);\r\n        setProdutoClicked();\r\n    }\r\n\r\n    /*\r\n    const onServicosClick = () => {\r\n        setItems(servicos);\r\n        setMostraCarrinho(false);\r\n    }\r\n    */\r\n\r\n    const onCarrinhoClick = () => {\r\n        setMostraCarrinho(true);\r\n        setCarrinhoClicked();\r\n    }\r\n  \r\n    const onItemClick = (item) =>{\r\n        history.push({ pathname: `/adiciona/${id}`, item: item });        \r\n    }\r\n\r\n    const onMenuClick = () => {\r\n        history.push({ pathname: `/menu/${id}` });\r\n    }\r\n\r\n    const onCardapioClick = (cardapio) => {\r\n        setBuscaCardapio(false);\r\n        setCardapioAtual(cardapio);\r\n        setCardapio(cardapio);\r\n        setBuscaGrupo(true);\r\n    }\r\n\r\n    const onBuscaCarpadioClick = () => {\r\n        setBuscaCardapio(true);\r\n    }\r\n\r\n    /*\r\n        <Link to='#' style={{color:'white', padding: '10px', textDecoration: 'none'}} onClick={onServicosClick}>Serviços</Link>\r\n    */\r\n\r\n    const onGrupoClick = () => {\r\n        setBuscaGrupo(true);\r\n    }\r\n\r\n    const onGrupoSelecionadoClick = (g) => {\r\n        setGrupo(g);\r\n        setGrupoAtual(g);\r\n        setBuscaGrupo(false);\r\n    }\r\n\r\n    const onFinalizaPedido = () => {\r\n        setBuscaCardapio(true);\r\n    }\r\n\r\n    const MostraGrupos = () => {\r\n        return (\r\n            <Grupo>\r\n                <Alarme />\r\n                {\r\n                    grupos.map((g, i) => \r\n                        <div>\r\n                            <a className=\"botao-seleciona-grupo\" \r\n                                key={i}\r\n                                href=\"#\" \r\n                                onClick={ () => onGrupoSelecionadoClick(g) } \r\n                                style={{color:'white'}}>{g}\r\n                            </a> \r\n                        </div>                        \r\n                    )\r\n                }\r\n            </Grupo>\r\n        )\r\n    }\r\n\r\n    const BtnGrupo = () => {\r\n        return (\r\n            <a className=\"botao-grupo\" href=\"#\" onClick={onGrupoClick}>\r\n                <span>{grupo}</span>\r\n                <BsChevronDown style={{ float: 'right', display: 'flex' }} />                  \r\n            </a>   \r\n        )\r\n    }\r\n\r\n    const MostraCardapio = () => {\r\n\r\n        const [pesquisa, setPesquisa] = useState('');\r\n\r\n        return (\r\n\r\n            <div className=\"body\">\r\n                <Alarme />\r\n                {\r\n                    grupo ? <BtnGrupo />\r\n                    : ''\r\n                }\r\n\r\n                <div className=\"filtros\">\r\n                    {\r\n                        login.login ? ( // Garçom\r\n                            <div className=\"pnlOptions\">\r\n                                <Link to='#' className={cssProduto} onClick={onProdutosClick}>Produtos</Link>\r\n                                <Link to='#' className={cssCarrinho} onClick={onCarrinhoClick}>Carrinho</Link>\r\n                            </div>\r\n\r\n                        ) : ( // Hospede\r\n                            <div className=\"pnlOptions\">\r\n                                <Link to='#' className={cssProduto} onClick={onProdutosClick}>Produtos</Link>\r\n                                <Link to='#' className={cssCarrinho} onClick={onCarrinhoClick}>Carrinho</Link>\r\n                            </div>\r\n                        )\r\n                    }\r\n                </div>\r\n\r\n                <div className=\"lista\">\r\n                { \r\n                    mostraCarrinho ? (\r\n\r\n                        <ListaItensCarrinho \r\n                            suite_id={login.suite_id} \r\n                            onCarrinhoVazio={onProdutosClick}\r\n                            onFinalizaPedido={onFinalizaPedido}\r\n                        />\r\n                    ) : (\r\n\r\n                        <div>\r\n\r\n                            <SearchBox>\r\n                                <form>\r\n                                    <input \r\n                                        value={pesquisa}\r\n                                        onChange={(event) => {\r\n                                            setPesquisa(event.target.value)\r\n                                        }}\r\n                                        placeholder=\"Digite aqui sua pesquisa\" />\r\n                                </form>                                    \r\n                            </SearchBox>\r\n\r\n                            <ListaItensCardapio \r\n                                pesquisa={pesquisa} \r\n                                items={produtos} \r\n                                onItemClick={onItemClick} \r\n                                grupo={grupo}\r\n                            />\r\n                            \r\n                        </div>\r\n                    )\r\n                }\r\n                </div>\r\n            </div>  \r\n        )\r\n    }\r\n\r\n    const MenuCardapio = () => {\r\n        return (\r\n            <div className=\"btnCardapio\" onClick={onBuscaCarpadioClick}>\r\n                <span className=\"nome_cardapio\">Cardápio</span>\r\n                <span className=\"tipo_cardapio\">{cardapio.descricao}</span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n// <BsHouseDoor onClick={onMenuClick} className=\"seta\" type=\"button\"  /> \r\n// <BsMap onClick={onBuscaCarpadioClick} className=\"cardapio\" type=\"button\"  /> \r\n    return (\r\n\r\n        <div className=\"root\">\r\n\r\n            <div className=\"header\">\r\n\r\n                <div className=\"header-content\">\r\n                    <BsHouseDoor className=\"seta\" onClick={onMenuClick} type=\"button\"  />                    \r\n                    <MenuCardapio />\r\n                    <BsHouseDoor className=\"hidden\"  />                    \r\n                 </div>\r\n\r\n            </div>\r\n\r\n            {\r\n                buscaCardapio ? <MostraCardapios id={id} onCardapioClick={onCardapioClick} />\r\n                : buscaGrupo ? <MostraGrupos /> : <MostraCardapio />\r\n            }\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nconst Grupo = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 80vh;\r\n  margin-top: 60px;\r\n  `;\r\n\r\nconst SearchBox = styled.div`\r\n    input {\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        padding: 16px;\r\n        width: 100%;\r\n\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n\r\n        display: flex;\r\n        align-items: center;\r\n       \r\n    }\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation, useHistory, useParams } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\n\r\nimport { \r\n    getLogin,\r\n    getConta,\r\n    setApartamentoAtual,\r\n} from '../utils/utils-context';\r\n\r\nexport default function Apartamentos() {\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    const history = useHistory();\r\n    const [ apartamentos, setApartamentos] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n        api.get(`/api/rooms/${login.uuid}`).then(response => {\r\n            console.log('apartamentos:', response.data);\r\n            setApartamentos(response.data);\r\n        });\r\n\r\n    },[]);\r\n\r\n    const onVoltarClick = () => {\r\n        history.push({ pathname: `/cardapio/${id}` });     \r\n    }\r\n\r\n    const onApartamentoClick = (ap) => {\r\n        setApartamentoAtual(ap);\r\n    }\r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <Link to=\"#\" onClick={onVoltarClick}>\r\n                        <BsArrowLeftShort type=\"button\" className=\"seta\" />\r\n                    </Link>               \r\n                </div>\r\n                <h1 style={{ fontSize: 22  }}>Ocupações</h1>\r\n            </div>\r\n            <Apartamento>\r\n                {\r\n                    apartamentos.map((ap, i) => \r\n                            <a className=\"botao-apartamento\" \r\n                                key={i}\r\n                                href=\"#\" \r\n                                onClick={ () => onApartamentoClick(ap) } \r\n                                style={{color:'white'}}>{ap.id}\r\n                            </a> \r\n                    )\r\n                }\r\n            </Apartamento>\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nconst Apartamento = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    margin-top: 40px;\r\n  `;\r\n\r\n","import React, { useState } from 'react';\r\nimport { BiMinus } from \"react-icons/bi\";\r\nimport { BiPlus } from \"react-icons/bi\";\r\nimport styled from 'styled-components';                                                                   \r\n\r\nfunction Counter({value, onUpdate}) {                                                                          \r\n\r\n  const Contador = styled.div`                    \r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    background-color: #ff9000;\r\n    border-radius: 5px;\r\n    margin: 20px;\r\n    width: 300px;\r\n    height: 50px;    \r\n  `;\r\n\r\n  const ButtonCounter = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 44px;\r\n    width: 44px;\r\n    background-color: #fff;\r\n    border-radius: 5px;\r\n  `;\r\n\r\n  return (\r\n    <Contador>\r\n      <div>\r\n        <BiMinus onClick={() => onUpdate(-1)} style={{fontSize: 23}}/>\r\n      </div>\r\n      <ButtonCounter>\r\n        <h1 style={{color: '#ff9000', fontSize: 25}}>{value}</h1>\r\n      </ButtonCounter>\r\n      <div>\r\n        <BiPlus onClick={() => onUpdate(1)} style={{fontSize: 23}}/>\r\n      </div>\r\n    </Contador>\r\n  );\r\n}\r\n\r\nexport default Counter;","import React, { useEffect, useState } from 'react';\r\nimport { Link, useLocation, useHistory, useParams } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport { FaBed } from \"react-icons/fa\";\r\nimport getPreco from '../utils/getPreco'\r\nimport api from '../services/api';\r\nimport Counter from './Counter';\r\nimport styled from 'styled-components';\r\n\r\nimport { getLogin, getConta, setLogin, getHost, \r\n         getMesaAtual, setMesaAtual, \r\n         getSuiteAtual, setSuiteAtual, contaEncerrada,\r\n         getCardapioAtual, setApartamentoAtual, getApartamentoAtual\r\n} from '../utils/utils-context';\r\n\r\nexport default function AdicionaItem() {\r\n\r\n    const isCheckout = () => {\r\n        if (contaEncerrada(login)) {\r\n            setLogin(null);\r\n            history.push({ pathname: `/${id}` });\r\n            return true;\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        //if (login == null) history.push({ pathname: `/entrar/${id}` });\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n        if (isCheckout()) return;\r\n        if (!login.login) return;\r\n        api.get(`/api/rooms/${login.uuid}`).then(response => {\r\n            const data = response.data.filter(i => {\r\n                   return i.SitAtual == 'O';\r\n            });\r\n            setApartamentos(\r\n                data.sort((a,b) => {\r\n                    return (a.id < b.id) ? -1 : 1;\r\n                })\r\n            );\r\n        });\r\n\r\n    },[]);\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    const [conta] = useState(getConta());\r\n\r\n    const { item } = useLocation();\r\n\r\n    const history = useHistory();\r\n    \r\n    const [ produto ] = useState(item);\r\n    const [ mesa, setMesa ] = useState(getMesaAtual());\r\n    const [ suite, setSuite ] = useState(getSuiteAtual());\r\n    const [ adicionado, setAdicionado ] = useState(false);\r\n\r\n    const [ apartamento , setApartamento ] = useState(getApartamentoAtual().id);\r\n\r\n    const [ detalheItem, setDetalheItem ] = useState(\r\n        (produto.nota || produto.imagem) && !login.login\r\n    );\r\n    \r\n    const [ apartamentos, setApartamentos ] = useState([]);\r\n    const [ buscaApartamentos, setBuscaApartamentos ] = useState(\r\n        login.login ? getApartamentoAtual().id === 0 : false\r\n    );\r\n\r\n    const host = getHost();\r\n\r\n    const onVoltarClick = () => {\r\n        history.push({ pathname: `/cardapio/${id}`, busca: false });     \r\n    }\r\n\r\n    const onBuscaApartamentoClick = () => {\r\n        setBuscaApartamentos(true);\r\n    }\r\n\r\n    const onApartamentoClick = (ap) => {\r\n        setApartamentoAtual(ap);\r\n        setApartamento(ap.id);\r\n        setBuscaApartamentos(false);\r\n    }\r\n\r\n    const MostraApartamentos = () => {\r\n\r\n        return (\r\n            <Apartamento>\r\n                {\r\n                    apartamentos.map((ap, i) => \r\n                            <a className=\"botao-apartamento\" \r\n                                key={i}\r\n                                href=\"#\" \r\n                                onClick={ () => onApartamentoClick(ap) } \r\n                                style={{color:'black'}}>{ap.id}\r\n                            </a> \r\n                    )\r\n                }\r\n            </Apartamento>\r\n        );\r\n    }\r\n\r\n    const DetalheItem = () => {\r\n\r\n        const onContinuarClick = () => {\r\n            setDetalheItem(false);\r\n        }\r\n\r\n        // <img src={`${host}/api/foto/${item.id}`}  alt=\"foto\" />\r\n//                    <img src={produto.imagem}  alt=\"foto\" />\r\n\r\n        return (\r\n            <Container>\r\n                <ImgContainer>\r\n                    <img src={produto.imagem} alt=\"foto\" />\r\n                </ImgContainer>\r\n                <div className=\"container-product-detail\">\r\n                    <h2 style={{ fontSize: 20, marginTop: 30, textAlign: 'center' }}>\r\n                        {produto.descricao}\r\n                    </h2>\r\n                    <h2 style={{fontSize: 15, marginTop: 20, marginBottom: 20}}> \r\n                        {produto.nota}\r\n                    </h2>\r\n                </div>\r\n                <a  className=\"continuar-item\" \r\n                    href=\"#\" \r\n                    onClick={onContinuarClick} \r\n                    style={{color:'white'}}>Continuar\r\n                </a>\r\n                <br />\r\n            </Container>\r\n        )\r\n    }\r\n\r\n    const AdicionaItem = () => {\r\n\r\n        const [ quant, setQuant ] = useState(1);\r\n        const [ nota, setNota ] = useState('');\r\n    \r\n        const atualizaQuantidade = (value) => {\r\n            var q = quant + value;\r\n            setQuant(q > 0 ? q : 1);\r\n        }\r\n    \r\n        const onAdicionaItem = () => {\r\n        \r\n            if (isCheckout()) return;\r\n    \r\n            if (adicionado) return;\r\n            \r\n            setAdicionado(true);\r\n            \r\n            const cardapio = getCardapioAtual();\r\n            const apartamento = getApartamentoAtual();\r\n\r\n            api.post('/api/order', { \r\n                uuid: id,\r\n                mesa: mesa ?? null,\r\n                funcionario: login.login,\r\n                funcionario_id: login.funcionario_id ?? '0',\r\n                suite_id: login.suite_id ?? 0,\r\n                suite: login.suite ?? apartamento.id, //, mesa, \r\n                codigo: produto.codigo,\r\n                descricao: produto.descricao,\r\n                foto: produto.foto,\r\n                produto_id: produto.id, \r\n                preco: produto.preco, \r\n                tipo:produto.tipo,\r\n                quantidade: quant, \r\n                nota: nota,\r\n                hospede: login.NrHospede ?? apartamento.NrHospede,\r\n                cardapio: cardapio.id\r\n            }).then(response => {\r\n                setMesaAtual(mesa);\r\n                setSuiteAtual(suite);\r\n                onVoltarClick();\r\n            }).catch(e => {\r\n                setMesaAtual(mesa);\r\n                setSuiteAtual(suite);\r\n                onVoltarClick();\r\n            });\r\n        }\r\n    \r\n        return (\r\n            <div className=\"body\">\r\n\r\n                <div className=\"container-product-info\">\r\n    \r\n                    <h2 style={{ fontSize: 20, marginTop: '60px', textAlign: 'center' }}>\r\n                        {produto.descricao}\r\n                    </h2>\r\n\r\n                    <h2 style={{\r\n                        fontSize:25, \r\n                        color: 'lightgreen', \r\n                        marginTop: '30px', \r\n                        textAlign: 'center'}}>\r\n                        {getPreco(produto.preco * quant)}\r\n                    </h2>\r\n\r\n                    <Counter value={quant} onUpdate={atualizaQuantidade} />\r\n                    \r\n                    <textarea className=\"nota\"\r\n                        type=\"text\" \r\n                        value={nota} \r\n                        placeholder=\"Observações\"\r\n                        onChange={(event) => { setNota(event.target.value) }} />\r\n\r\n                    {\r\n                        conta.sistema === 'WINRESTA' ? (\r\n                            <div>\r\n                                <input \r\n                                    className=\"mesa\"\r\n                                    type=\"text\" \r\n                                    value={mesa}\r\n                                    onChange={(event) => {setMesa(event.target.value)}}\r\n                                    placeholder=\"Mesa\" />\r\n                            </div>\r\n                        ) : ('')\r\n                    }\r\n\r\n                    {\r\n                        /*\r\n                        login.perfil === 'camareira' ? (\r\n                            <div>\r\n                                <input \r\n                                    className=\"mesa\"\r\n                                    type=\"text\" \r\n                                    value={suite}\r\n                                    onChange={(event) => {setSuite(event.target.value)}}\r\n                                    placeholder=\"Suite\" />\r\n                            </div>\r\n                        ) : ('')\r\n                        */\r\n                    }\r\n\r\n                    <a  className=\"adicionar-item\" \r\n                        href=\"#\" \r\n                        onClick={onAdicionaItem} \r\n                        style={{color:'white'}}>Adicionar\r\n                    </a>   \r\n\r\n                </div>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    const descricao = apartamento == 0 ? 'Selecione apartamento' : 'Apartamento ' + apartamento;\r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <BsArrowLeftShort onClick={onVoltarClick} className=\"seta\" type=\"button\"  /> \r\n                    {\r\n                        login.login ?\r\n                            <FaBed onClick={onBuscaApartamentoClick} className=\"cama\" type=\"button\"  /> \r\n                            : ''\r\n                    }\r\n                </div>\r\n                <div>\r\n                    <span className=\"nome_cardapio\">Adicionar Item</span>\r\n                    {\r\n                        login.login ? \r\n                            <span className=\"tipo_cardapio\">{descricao}</span>\r\n                        : ''\r\n                    }\r\n                </div>                    \r\n            </div>\r\n            {\r\n                buscaApartamentos ? <MostraApartamentos /> :\r\n                (detalheItem ? <DetalheItem /> : <AdicionaItem />)\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst Container = styled.div`\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 80vh;\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n`;\r\n\r\nconst Apartamento = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    margin-top: 40px;\r\n  `;\r\n\r\n/*\r\n                    {\r\n                        produto.foto ? \r\n                        <div className=\"img-product-des\">\r\n                            <img className=\"product-img-description\" \r\n                                src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${produto.foto}`} \r\n                                alt=\"\" />\r\n                        </div>\r\n                        : ''\r\n                    }\r\n\r\n*/","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport getPreco from '../utils/getPreco'\r\n\r\nexport default function MostraComanda({mesa, comanda, onPesquisarMesa, onTrocarItemMesa}) {\r\n    \r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n    \r\n    const onMenuClick = () => {\r\n        history.push({ pathname: `/menu/${id}` });\r\n    }\r\n\r\n    return (\r\n        <div className=\"root\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <BsArrowLeftShort onClick={onMenuClick} className=\"seta\" type=\"button\"  /> \r\n                </div>\r\n                <h1>Pedidos</h1>\r\n            </div>    \r\n            <div className=\"body\">\r\n\r\n                <div className=\"lista_pedidos\">\r\n                    \r\n                    <PesquisaMesa>\r\n                        <form>\r\n                            <input \r\n                                value={mesa}\r\n                                onChange={(event) => {\r\n                                    onPesquisarMesa(event.target.value);\r\n                                }}\r\n                                placeholder=\"Mesa\"/>\r\n                        </form>\r\n                    </PesquisaMesa>\r\n\r\n                    <ListaItensComanda items={comanda.items} onTrocarItemMesa={onTrocarItemMesa} />\r\n                    \r\n                    <Total total={comanda.total} />\r\n\r\n                </div>\r\n\r\n            </div>        \r\n        </div>\r\n    )\r\n}\r\n\r\nconst Total = ({total}) => {\r\n    if (!total || total === 0) \r\n        return ''//<div className='total'>Não há pedidos!</div>\r\n    return (\r\n        <div className='total'>Total: {getPreco(total)}</div>\r\n    )\r\n};\r\n\r\nconst TrocarMesa = ({item, trocar, onTrocarItemMesa}) => {\r\n\r\n    const [novaMesa, setNovaMesa] = useState('');\r\n\r\n    if (trocar) return (\r\n        <div>\r\n            <TrocaMesa>\r\n                <form>\r\n                    <input value={novaMesa} placeholder = \"Mesa\" \r\n                        onChange={(event) => {\r\n                            setNovaMesa(event.target.value);\r\n                        }}                    \r\n                    />\r\n                </form>\r\n            </TrocaMesa>\r\n\r\n            <a  className=\"trocar-mesa\" \r\n                href=\"#\" \r\n                onClick={() => { onTrocarItemMesa(item, novaMesa) } } \r\n                style={{color:'white'}}>Trocar\r\n            </a>\r\n\r\n        </div>\r\n)\r\n    return '';\r\n}\r\n\r\nconst ListaItensComanda = ({items, onTrocarItemMesa}) => {\r\n\r\n    const [trocarMesa, setTrocarMesa] = useState(false);\r\n    \r\n    if (!items || items.length === 0) return (\r\n        <SemItensStyle>Sem ítens!</SemItensStyle>\r\n    )\r\n\r\n    const onItemClick = (item) => {\r\n        if (item.atendido) return;\r\n        setTrocarMesa(!trocarMesa);\r\n    }\r\n\r\n    return (\r\n\r\n        items.map(item =>\r\n            <div>\r\n                <div className='item' onClick={() => onItemClick(item)} >\r\n                    <p style={{fontSize:14, color:'#a2a276'}}>Nº {item.codigo}</p>\r\n                    <p style={{color:'#3fe799', fontSize:16}}>{item.descricao}</p>\r\n                    <p style={{fontSize:14, width: 200}}>{item.nota}</p>\r\n                    <p style={{fontSize:18}}>\r\n                        <span style={{color:'#8c8c8c'}}>{item.quantidade} x {getPreco(item.preco)}</span> = {getPreco(item.preco, item.quantidade)}\r\n                    </p>\r\n                    {\r\n                        item.atendido ? ('') : (\r\n                            <p className=\"toque\" style={{fontSize:14}}>Toque para trocar mesa</p>\r\n                        )\r\n                    }\r\n                </div>\r\n                <TrocarMesa \r\n                    item={item} \r\n                    trocar={trocarMesa} \r\n                    onTrocarItemMesa={(item, mesa) => {\r\n                        setTrocarMesa(false);\r\n                        onTrocarItemMesa(item, mesa)\r\n                    }} />\r\n            </div>\r\n\r\n        )\r\n    )\r\n}\r\n\r\n/*\r\n    <div className=\"products-image\">\r\n        <img className=\"product-img\" src={`https://api-sistema-mde.herokuapp.com/api/order/photo/${item.foto}`} alt=\"\"/>\r\n    </div>\r\n*/\r\n\r\nconst PesquisaMesa = styled.div`\r\n    input {\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        margin-top: 60px;\r\n        padding: 16px;\r\n        width: 100%;\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst TrocaMesa = styled.div`\r\n    input {\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        margin-top: 10px;\r\n        padding: 16px;\r\n        width: 100%;\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst SemItensStyle = styled.p`\r\n    display: flex;\r\n    justify-content:center;\r\n    margin-top: 10px;\r\n    align-items:center;\r\n    font-size: 25px;\r\n`;\r\n","import { useHistory, useParams } from \"react-router-dom\";\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport getPreco from '../utils/getPreco';\r\n\r\nexport default function MostraPedidos({pedidos}) {\r\n    const { id } = useParams();\r\n    const history = useHistory();\r\n\r\n    const onMenuClick = () => {\r\n        history.push({ pathname: `/menu/${id}` });\r\n    }\r\n\r\n    const getData = (data) => {\r\n        const mes = [\r\n            'janeiro', 'fevereiro', 'março',\r\n            'abril', 'maio', 'junho',\r\n            'julho', 'agosto', 'setembro',\r\n            'outubro', 'novembro', 'dezembro'\r\n        ]\r\n\r\n        const dia = data.substr(8,2);\r\n\r\n        const i = parseInt(data.substr(5,2));\r\n\r\n        return dia + ' de ' + mes[i];\r\n    }\r\n\r\n    if (pedidos.length === 0) return '';\r\n\r\n    console.log(pedidos);\r\n\r\n    return (\r\n        <div className=\"root\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <BsArrowLeftShort onClick={onMenuClick} className=\"seta\" type=\"button\"  /> \r\n                </div>\r\n                <h1>Pedidos</h1>\r\n            </div>    \r\n            <div className=\"body\">\r\n                <div className=\"listaItensPedido\">\r\n                    {\r\n                        pedidos.pedidos.map(pedido => {\r\n                            return(\r\n                                <div key={pedido.id} className=\"item\">\r\n                                    <div className=\"data\">{getData(pedido.data)}</div>\r\n                                    <ListaItensPedido items={pedido.items} />\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    <Total total={pedidos.total} />\r\n                </div>\r\n            </div>        \r\n        </div>\r\n    )\r\n    \r\n}\r\n\r\nconst Total = ({total}) => {\r\n    if (total === 0) \r\n        return <div className='total'>Não há pedidos!</div>\r\n    return (\r\n        <div className='total'>Total: {getPreco(total)}</div>\r\n    )\r\n};\r\n\r\nconst ListaItensPedido = ({items}) => {\r\n\r\n    const getAtendido = (atendido) => {\r\n        if (atendido === '') return '';\r\n        return 'atendido';\r\n    }\r\n\r\n    if (items.length === 0) return '';\r\n\r\n    return items.map(item => {\r\n        return (\r\n            <div key={item.id} style={{marginTop: '20px'}}>\r\n                <div style={{overflow: 'hidden'}}>\r\n                    <div className='esquerda'>{item.descricao}</div>\r\n                    <div className='direita'><span className='detalhe'>Nº {item.codigo}</span></div>\r\n                </div>\r\n                <div style={{overflow: 'hidden'}}>\r\n                    <div className='detalhe'>{item.quantidade} x {getPreco(item.preco)}</div>\r\n                    <div className='valor'>{getPreco(item.preco * item.quantidade)}</div>\r\n                </div>\r\n                <div className='atendido'>{getAtendido(item.atendido)}</div>\r\n            </div>\r\n        )\r\n    })\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport api from '../services/api';\r\nimport { getLogin } from '../utils/utils-context';\r\nimport MostraComanda from './MostraComanda';\r\nimport MostraPedidos from './MostraPedidos';\r\n\r\nexport default function Pedidos() {\r\n    \r\n    const { id } = useParams();\r\n    const [login] = useState(getLogin());\r\n    const history = useHistory();\r\n\r\n    const [pedidos, setPedidos] = useState([]);\r\n    const [mesa, setMesa] = useState();\r\n\r\n    useEffect(() => {\r\n\r\n        if (login == null) history.push({ pathname: `/entrar/${id}` });\r\n\r\n        if (!login.suite_id && !mesa) {\r\n            return;\r\n        }\r\n\r\n        let mounted = true;\r\n\r\n        let url = '/api/order/consumer/';\r\n        url += login.suite_id ? login.suite_id : `waiter/${login.uuid}/${mesa}`;\r\n\r\n        api.get(url).then(response => {\r\n\r\n            if (!mounted) return;\r\n\r\n            setPedidos(response.data);\r\n\r\n        }).catch(() => {\r\n\r\n            setPedidos([]);\r\n\r\n        });\r\n\r\n        return function cleanup() {\r\n            mounted = false;\r\n        }\r\n\r\n    },[mesa]);\r\n\r\n    const onPesquisarMesa = (mesa) => {\r\n        setMesa(mesa);\r\n    }\r\n\r\n    const onTrocarItemMesa = (item, nova_mesa) => {\r\n        api.post(`/api/mesa/${id}/${item.id}/${mesa}/${nova_mesa}`).then(response => {\r\n            setPedidos(response.data);\r\n        }).catch(() => {\r\n            setPedidos([]);\r\n        });        \r\n    }\r\n\r\n    return(\r\n\r\n        login.login \r\n            ?\r\n                <MostraComanda mesa={mesa} comanda={pedidos} \r\n                    onPesquisarMesa={onPesquisarMesa} \r\n                    onTrocarItemMesa={onTrocarItemMesa} />\r\n            :\r\n                <MostraPedidos pedidos={pedidos} />\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport { getLogin } from '../utils/utils-context';\r\nimport { shade } from 'polished';\r\nimport getPreco from '../utils/getPreco';\r\nimport api from '../services/api';\r\nimport Alarme from './Alarme';\r\n\r\nexport default function Informacoes() {\r\n\r\n    const build   = '1.0.64';\r\n    \r\n    const { id }  = useParams();\r\n    const history = useHistory();\r\n    const [login, setLogin] = useState(getLogin());\r\n    const [opcao, setOpcao] = useState('MENU');\r\n    const [titulo, setTitulo ] = useState('Informações');\r\n    const [timer, setTimer] = useState(true);\r\n\r\n    //var TIMER;\r\n\r\n    useEffect(() => { \r\n        if (login == null) history.push({ pathname: `/entrar/${id}` });\r\n\r\n        const data = { id: login.uuid, suite: login.suite, cpf: login.cpf };\r\n        api.post('/api/entrar', data).then(response => {\r\n            console.log('/api/entrar:', response.data);\r\n            setLogin(response.data);\r\n        }).catch((error) => {\r\n            if (error.response) console.log(error.response.status);\r\n        });\r\n\r\n//        let mounted = true;\r\n        \r\n        // TIMER = setInterval(function(){\r\n        //     if (!mounted) return;\r\n        //     onTimer();\r\n        // }, 5000);\r\n\r\n        // return function cleanup() {\r\n            \r\n        //     mounted = false;\r\n\r\n        //     setTimeout(() => {\r\n        //         clearInterval(TIMER);\r\n        //         TIMER = null;\r\n        //     }, 1000);\r\n\r\n        // }\r\n\r\n    },[opcao]);\r\n\r\n    // const onTimer = () => {\r\n    //     const data = { id: login.uuid, suite: login.suite, cpf: login.cpf };\r\n    //     api.post('/api/entrar', data).then(response => {\r\n    //         console.log('/api/entrar:', response.data);\r\n    //         setLogin(response.data);\r\n    //         setTimer(!timer);\r\n    //     }).catch((error) => {\r\n    //         if (error.response) console.log(error.response.status);\r\n    //     });\r\n    // }\r\n\r\n    const MenuPrincipal = () => {\r\n        return (\r\n            <Container>\r\n\r\n              <CardContainer>\r\n                    <a href=\"#\" onClick={onPerfilClick} className=\"requests\">Perfil</a>\r\n              </CardContainer>\r\n\r\n              {\r\n                  !login.login ? (\r\n                    <CardContainer>\r\n                        <a href=\"#\" onClick={onContaClick} className=\"requests\">Conta</a>\r\n                    </CardContainer>\r\n                  ) : \"\"\r\n              }\r\n              <Alarme />  \r\n            </Container>\r\n        );\r\n    }\r\n\r\n    const onPerfilClick = () => {\r\n        setOpcao('PERFIL'); setTitulo('Perfil de uso')\r\n    }\r\n\r\n    const onContaClick = () => {\r\n        setOpcao('CONTA'); setTitulo('Resumo da conta')\r\n    }\r\n\r\n    const onVoltarClick = () => {\r\n        if (opcao === \"MENU\") {\r\n            history.push({ pathname: `/menu/${id}` });\r\n            return;\r\n        }\r\n        setOpcao(\"MENU\"); setTitulo(\"Informações\");\r\n    }\r\n\r\n    const InfoPerfil = () => {\r\n        if (login.login) return <InfoFuncionario />\r\n        else return <InfoHospede />\r\n    }\r\n\r\n    const InfoConta = () => {\r\n        return (\r\n            <InfoUsers>\r\n                <p>Diárias (+)</p>\r\n                <strong>{getPreco(login.diarias)}</strong>\r\n                <p>Extras (+)</p>\r\n                <strong>{getPreco(login.extras)}</strong>   \r\n                <p>Taxas (+)</p>\r\n                <strong>{getPreco(login.taxas)}</strong>   \r\n                <p style={{color: '#d0fa5b'}}>Antecipado (-)</p>\r\n                <strong>{getPreco(login.antecipado)}</strong>   \r\n                <p style={{color: '#ff9000'}}>Saldo (=)</p>\r\n                <strong>{getPreco(login.saldo)}</strong>\r\n            </InfoUsers>\r\n        )\r\n}\r\n\r\n    const InfoFuncionario = () => {\r\n        return (\r\n            <InfoUsers>\r\n                <p>Funcionário</p>\r\n                <strong>{funcionario}</strong>\r\n                <p>Build</p>\r\n                <strong>{build}</strong>   \r\n                <Alarme />\r\n            </InfoUsers>\r\n        )\r\n    }\r\n\r\n    const InfoHospede = () => {\r\n        return (\r\n            <InfoUsers>\r\n                <p>Reserva</p>\r\n                <strong>{login.reserva}</strong>\r\n                <p>Hóspede Master</p>\r\n                <strong>{login.hospede}</strong>\r\n                <p>Suíte</p>\r\n                <strong>{login.suite}</strong>\r\n                <p>Check-in</p>\r\n                <strong>{login.checkin}</strong>\r\n                <p>Check-out</p>\r\n                <strong>{login.checkout}</strong>   \r\n                <p>Build</p>\r\n                <strong>{build}</strong>   \r\n            </InfoUsers>\r\n        )\r\n    }\r\n\r\n    const funcionario = login.login + ' ' + login.funcionario_id;\r\n\r\n    return(\r\n        \r\n        <div className=\"rooms\">\r\n\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <a href=\"#\" onClick={onVoltarClick} className=\"requests\">\r\n                        <BsArrowLeftShort className=\"seta\" type=\"button\" /> \r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <span className=\"nome_cardapio\">{titulo}</span>\r\n                </div>                \r\n            </div> \r\n\r\n            {\r\n                opcao === \"MENU\" ? \r\n                    <MenuPrincipal /> :\r\n                    ( opcao == \"PERFIL\" ? \r\n                        <InfoPerfil /> : \r\n                        <InfoConta timer={timer} />\r\n                    )\r\n            }\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n//{\r\n//    login.login ? <InfoFuncionario /> : <InfoHospede />\r\n//}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  margin: 120px;\r\n  align-items: center;\r\n  justify-content: start;\r\n  height: 80vh;\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px 98px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin-top: 46px;\r\n    margin-bottom: 40px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 26px;\r\n    }\r\n`;\r\n\r\nconst InfoUsers = styled.div`\r\n    margin:50px;\r\n    width: 75%;\r\n\r\n    p {\r\n        margin-top: 10px;\r\n        margin-bottom: 5px;\r\n    }\r\n    \r\n    strong {\r\n        display: flex;\r\n        padding: 8px 0 8px 10px;\r\n\r\n        background: #666;\r\n        border-radius: 5px;\r\n        font-size: 24px;\r\n    }\r\n`;","import React from 'react'\r\nimport styled from 'styled-components';\r\nconst TextArea = styled.textarea`\r\n    padding: 5px;\r\n    margin-top: 10px;\r\n    width: 100%;\r\n`\r\n\r\nconst Input = styled.input`\r\n    width: 100%;\r\n    padding: 5px;\r\n`\r\n\r\nexport const ExigirObsEPeriodo = (props) => {\r\n    return <>\r\n\r\n<br/>\r\n        <h3>Campos obrigatórios</h3>\r\n        <br/>\r\n\r\n\r\n        <label>\r\n            Data de inicio\r\n        </label>\r\n        <Input \r\n              type='date'\r\n              onChange={(event) => {props.onChangeDtInicio(event.target.value)}}            \r\n              placeholder=\"Data de inicio\"/> <br /> <br/>\r\n\r\n\r\n        <label>\r\n            Data de término\r\n        </label>\r\n        <Input \r\n              type='date'\r\n              onChange={(event) => {props.onChangeDtFim(event.target.value)}}            \r\n              placeholder=\"Data de término\"/> <br/> <br/>\r\n              <label>\r\n            Observações\r\n        </label>\r\n\r\n<TextArea \r\n              onChange={(event) => {props.onChangeObs(event.target.value)}}            \r\n            />\r\n\r\n    </>\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport alerta from '../utils/alertas';\r\nimport Alarme from './Alarme';\r\n\r\nimport { \r\n    getLogin,\r\n    getConta,\r\n} from '../utils/utils-context';\r\nimport { ExigirObsEPeriodo } from './ExigirObsEPeriodo';\r\n\r\nexport default function Servicos() {\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    const [conta] = useState(getConta());\r\n\r\n    const history = useHistory();\r\n    const [ apartamentos, setApartamentos] = useState([]);\r\n    const [ apartamento, setApartamento] = useState(null);\r\n    var TIMER;\r\n\r\n    useEffect(() => {\r\n\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n\r\n        onTimer();\r\n\r\n        let mounted = true;\r\n\r\n        TIMER = setInterval(function() {\r\n            if (!mounted) return;\r\n            onTimer();\r\n        }, 10000);\r\n\r\n        return function cleanup() {\r\n            \r\n            mounted = false;\r\n\r\n            setTimeout(() => {\r\n                clearInterval(TIMER);\r\n                TIMER = null;\r\n            }, 1000);\r\n\r\n        }\r\n\r\n    },[]);\r\n\r\n    const onTimer = () => {\r\n        api.get(`/api/rooms/${login.uuid}`).then(response => {\r\n            setApartamentos(response.data);\r\n        });\r\n    }\r\n\r\n    const onVoltarClick = () => {\r\n        if (apartamento) {\r\n            setApartamento(null);\r\n            onTimer();\r\n            return;\r\n        }\r\n        history.push({ pathname: `/menu/${id}` });     \r\n    }\r\n\r\n    const onApartamentoClick = (ap) => {\r\n        setApartamento(ap);\r\n    }\r\n\r\n    function mudaStatus(opcao, obs, dtInicio, dtFim) {\r\n        api.post(`/api/suite/status/${login.uuid}/${apartamento.id}/${opcao.id}`, {\r\n            \"obs\": obs,\r\n            \"dtInicio\": dtInicio,\r\n            \"dtFim\": dtFim\r\n        }).then(response => {\r\n            setApartamento(null);\r\n            console.log(response.data);\r\n            onTimer();\r\n        }).catch(() => {\r\n            setApartamento(null);\r\n            onTimer();\r\n        });\r\n    }\r\n\r\n\r\n    const onMudaStatusClick = async(opcao) => {\r\n        async function obterSituacaoUH(opcao, apartamento) {\r\n            const dados = await api.get(`/api/suite/situacao/${login.uuid}/${apartamento.SitAtual}/${opcao.id}`)\r\n            console.log('dados', dados.data[0])\r\n            return {\r\n                PedirObservacao: dados.data[0][0].PedirObservacao,\r\n                PedirPeriodo: dados.data[0][0].PedirPeriodo\r\n            }\r\n        }\r\n\r\n        const res = await obterSituacaoUH(opcao, apartamento);\r\n        console.log('Res:', res)\r\n        let obs = '';\r\n        let dtInicio = '';\r\n        let dtFim = '';\r\n        if (!opcao.mensagem) {\r\n            mudaStatus(opcao, '', '', '');\r\n            return;\r\n        }\r\n\r\n        if (res.PedirObservacao === 'N' && res.PedirPeriodo == 'N') {\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: opcao.mensagem,\r\n                onYes: () => { \r\n                    mudaStatus(opcao, '', '', '');\r\n                }\r\n            });\r\n        } else if (res.PedirObservacao === 'S' && res.PedirPeriodo == 'S') {\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: <ExigirObsEPeriodo onChangeObs={(value) => {obs = value}} onChangeDtInicio={(value) => {dtInicio = value}} onChangeDtFim={(value) => {dtFim = value}} />,\r\n                onYes: () => { \r\n                    mudaStatus(opcao, obs, dtInicio, dtFim);\r\n                }\r\n            });\r\n        } else if (res.PedirObservacao === 'N' && res.PedirPeriodo == 'S') {\r\n            console.log('Terceiro IF')\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: <h1>N E S</h1>,\r\n                onYes: () => { \r\n                    mudaStatus(opcao);\r\n                }\r\n            });\r\n        } else if (res.PedirObservacao === 'S' && res.PedirPeriodo == 'N') {\r\n            console.log('Quarto IF')\r\n            alerta({ \r\n                title: 'Atenção!',\r\n                message: <h1>S E N</h1>,\r\n                onYes: () => { \r\n                    mudaStatus(opcao);\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function AtualizaStatusSuite() {\r\n        const status = conta.status_suites;\r\n        const opcoes = status[apartamento.SitAtual];\r\n        return (\r\n            <Container>\r\n                {\r\n                    opcoes.map((opcao, i) => {\r\n                        return (\r\n                            <CardContainer key={opcao.id}>\r\n                                <a href=\"#\" \r\n                                    onClick={\r\n                                       async () => { await onMudaStatusClick(opcao) }\r\n                                    } className=\"requests\">\r\n                                    {opcao.descricao}\r\n                                </a>\r\n                            </CardContainer>\r\n                        );\r\n                    })\r\n                }\r\n            </Container>\r\n        );\r\n      \r\n    }\r\n\r\n    function Apartamentos() {\r\n\r\n        function getCorSituacao(ap) {\r\n/*\r\n            if (ap.id === '101') ap.SitAtual = 'L';\r\n            if (ap.id === '103') ap.SitAtual = 'O';\r\n            if (ap.id === '104') ap.SitAtual = 'P';\r\n            if (ap.id === '105') ap.SitAtual = 'Z';\r\n            if (ap.id === '106') ap.SitAtual = 'B';\r\n            if (ap.id === '107') ap.SitAtual = 'M';\r\n            if (ap.id === '108') ap.SitAtual = 'V';\r\n            if (ap.id === '109') ap.SitAtual = 'S';\r\n            if (ap.id === '110') ap.SitAtual = 'I';\r\n            if (ap.id === '111') ap.SitAtual = 'D';\r\n            if (ap.id === '112') ap.SitAtual = 'C';\r\n*/\r\n            switch (ap.SitAtual) {\r\n                case 'L':\r\n                    return \"botao-apartamento-livre\";\r\n                case 'O':\r\n                    return \"botao-apartamento-ocupado\";\r\n                case 'P':\r\n                    return \"botao-apartamento-pagamento\";\r\n                case 'Z':\r\n                    return \"botao-apartamento-limpeza\";\r\n                case 'B':\r\n                    return \"botao-apartamento-bloqueado\";\r\n                case 'M':\r\n                    return \"botao-apartamento-manutencao\";\r\n                case 'V':\r\n                    return \"botao-apartamento-vistoria\";\r\n                case 'S':\r\n                    return \"botao-apartamento-supervisao\";\r\n                case 'I':\r\n                    return \"botao-apartamento-interditado\";\r\n                case 'D':\r\n                    return \"botao-apartamento-limpeza-simples\";\r\n                case 'C':\r\n                    return \"botao-apartamento-limpeza-completa\";\r\n                default:\r\n                    return \"botao-apartamento-ocupado\";\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Apartamento>\r\n                {\r\n                    apartamentos.map((ap, i) => {\r\n                            return (\r\n                                <a className={getCorSituacao(ap)}\r\n                                    key={i}\r\n                                    href=\"#\" \r\n                                    onClick={ () => onApartamentoClick(ap) }>{ap.id}\r\n                                    </a> \r\n                            )\r\n                        }\r\n                    )\r\n                }\r\n            </Apartamento>\r\n        );\r\n    }\r\n\r\n    // <FaBell onClick={onNotificacoesClick} className=\"sino\" type=\"button\"  />               \r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <Link to=\"#\" onClick={onVoltarClick}>\r\n                        <BsArrowLeftShort type=\"button\" className=\"seta\" />\r\n                    </Link>\r\n                </div>\r\n                <h1 style={{ fontSize: 22  }}>\r\n                    {\r\n                        ( apartamento && apartamento.SitAtual !== 'O' ) ? 'Suíte ' + apartamento.id : 'Suítes'\r\n                    }\r\n                </h1>\r\n            </div>\r\n            {\r\n              ( apartamento && apartamento.SitAtual !== 'O' ) ? <AtualizaStatusSuite /> : <Apartamentos />\r\n            }\r\n            <Alarme />\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nconst Apartamento = styled.div`\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr;\r\n    margin-top: 40px;\r\n  `;\r\n\r\n\r\nconst Container = styled.div`\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 80vh;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    box-sizing: content-box;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin: 16px 20px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 20px;\r\n    }\r\n`;\r\n","import { dateFormat1 } from '../utils/utils-context'\r\nexport default function ListaNotificacoes({pesquisa, items}) {\r\n    if (!items || items.length === 0) return 'Sem notificações!';\r\n    \r\n    const busca = items.filter((i) => {\r\n        \r\n        function naSuite(i) {\r\n            if (pesquisa.trim().length === 0) return true;\r\n            return i.suite === pesquisa;\r\n        }\r\n\r\n        function naNotificacao(i) {\r\n            function contain(a, b) { return a.toUpperCase().includes(b.toUpperCase())}\r\n            if (pesquisa.trim().length === 0) return true;\r\n            return contain(i.notificacao, pesquisa); // || contain(i.codigo, pesquisa);\r\n        }\r\n\r\n        return naSuite(i) || naNotificacao(i);\r\n\r\n    });\r\n\r\n    return busca.map(item => \r\n        <div type=\"button\" \r\n            key={item.id} \r\n            className=\"notifications\">\r\n            <div>        \r\n                <p style={{fontSize:14}}>Suíte {item.suite}</p>\r\n                <p style={{color: '#3fe799', fontSize:14}}>{item.notificacao}</p>\r\n                <p style={{fontSize:12}}>{dateFormat1(item.data)}</p>\r\n            </div>\r\n            <div></div>            \r\n        </div>\r\n    );\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useParams, useLocation } from 'react-router-dom';\r\nimport { BsArrowLeftShort } from \"react-icons/bs\";\r\nimport api from '../services/api';\r\nimport styled from 'styled-components';\r\n\r\nimport { \r\n    getLogin,\r\n} from '../utils/utils-context';\r\n\r\nimport ListaNotificacoes from './ListaNotificacoes';\r\n\r\nexport default function Notificacoes() {\r\n\r\n    const { id }  = useParams();\r\n    const [login] = useState(getLogin());\r\n    \r\n    const [pesquisa, setPesquisa] = useState('');\r\n    \r\n    const [notificacoes, setNotificacoes] = useState([]);\r\n\r\n    const { origin } = useLocation();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (login == null) history.push({ pathname: `/${id}` });\r\n    },[]);\r\n\r\n    const onVoltarClick = () => {\r\n        switch (origin) {\r\n            case 'servico':\r\n                history.push({ pathname: `/servicos/${id}` });\r\n                break;\r\n            default:\r\n                history.push({ pathname: `/menu/${id}` });     \r\n                break;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"rooms\">\r\n            <div className=\"header\">\r\n                <div  className=\"header-content\">\r\n                    <Link to=\"#\" onClick={onVoltarClick}>\r\n                        <BsArrowLeftShort type=\"button\" className=\"seta\" />\r\n                    </Link>               \r\n                </div>\r\n                <h1 style={{ fontSize: 22  }}>Notificações</h1>\r\n            </div>\r\n            <div>\r\n                <div style={{ padding: '0px 10px' }} >\r\n                    <SearchBox>\r\n                        <form>\r\n                            <input value={pesquisa} onChange={(event) => {setPesquisa(event.target.value)}}\r\n                            placeholder=\"Digite aqui sua pesquisa\" />\r\n                        </form>                                    \r\n                    </SearchBox>\r\n                </div>\r\n                <ListaNotificacoes pesquisa={pesquisa} items={notificacoes} />\r\n\r\n            </div>\r\n        </div>\r\n);\r\n    \r\n}\r\n\r\nconst SearchBox = styled.div`\r\n    input {\r\n        margin-top: 50px;\r\n        background: #232129;\r\n        border-radius: 10px;\r\n        padding: 16px;\r\n        width: 100%;\r\n\r\n        color: #666360;\r\n        border: 2px solid #232129;\r\n\r\n        display: flex;\r\n        align-items: center;\r\n       \r\n    }\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams, useLocation } from \"react-router-dom\";\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport { getLogin, getConta, getHost } from '../utils/utils-context';\r\n\r\nimport Alarme from './Alarme';\r\n\r\nconst MenuWINLETOM = () => {\r\n\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  \r\n  const [conta] = useState(getConta());\r\n  const [login] = useState(getLogin());\r\n\r\n  const host = getHost();\r\n\r\n  const onCardapioClick = () => {\r\n    history.push({ pathname: `/cardapio/${id}`, busca: true });\r\n  }\r\n\r\n  const onPedidosClick = () => {\r\n    history.push({ pathname: `/pedidos/${id}` });\r\n  }\r\n\r\n  const onInformacoesClick = () => {\r\n    history.push({ pathname: `/informacoes/${id}` });\r\n  }\r\n\r\n  const onServicoClick = () => {\r\n    history.push({ pathname: `/servicos/${id}` });\r\n  }\r\n\r\n  // const onNotificacoesClick = () => {\r\n  //   history.push({ pathname: `/notificacoes/${id}`, origin: 'menu' });\r\n  // }\r\n\r\n  const onApartamentosClick = () => {\r\n    history.push({ pathname: `/apartamentos/${id}` });\r\n  }\r\n\r\n  const onSairClick = () => {\r\n    localStorage.setItem('login', null);\r\n    history.push({ pathname: `/${id}` });\r\n  }\r\n  \r\n  // https://api-sistema-mde.herokuapp.com\r\n\r\n  return (\r\n      <Container>\r\n\r\n        <ImgContainer>\r\n          <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n        </ImgContainer>\r\n\r\n        <CardContainer>\r\n              <a href=\"#\" onClick={onInformacoesClick} className=\"requests\">Informações</a>\r\n        </CardContainer>\r\n\r\n        <CardContainer>\r\n          <a href=\"#\" onClick={onCardapioClick} className=\"requests\">Cardápio</a>\r\n        </CardContainer>\r\n\r\n        {\r\n          login.perfil == 'camareira' ? (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onServicoClick} className=\"requests\">Serviço</a>\r\n            </CardContainer>\r\n            ) : ''\r\n        }\r\n\r\n        {\r\n          // login.perfil == 'camareira' ? (\r\n          //   <CardContainer>\r\n          //     <a href=\"#\" onClick={onNotificacoesClick} className=\"requests\">Notificações</a>\r\n          //   </CardContainer>\r\n          //   ) : ''\r\n        }\r\n\r\n        <CardContainer>\r\n          <a href=\"#\" onClick={onSairClick}>Sair</a>\r\n        </CardContainer>\r\n\r\n      </Container>\r\n  );\r\n\r\n}\r\n\r\n/*\r\n        {\r\n          (login.login) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onPedidosClick} className=\"consumme\">Pedidos</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n*/\r\n\r\nconst MenuWINRESTA = () => {\r\n\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  const [conta] = useState(getConta());\r\n  \r\n  const host = getHost();\r\n\r\n  const onCardapioClick = () => {\r\n    history.push({ pathname: `/cardapio/${id}` });\r\n  }\r\n\r\n  const onPedidosClick = () => {\r\n    history.push({ pathname: `/pedidos/${id}` });\r\n  }\r\n\r\n  const onSairClick = () => {\r\n    localStorage.setItem('login', null);\r\n    history.push({ pathname: `/${id}` });\r\n  }\r\n\r\n  return (\r\n\r\n    <Container>\r\n\r\n      <ImgContainer>\r\n        <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n      </ImgContainer>\r\n\r\n      <CardContainer>\r\n        <a href=\"#\" onClick={onCardapioClick} className=\"requests\">Cardápio</a>\r\n      </CardContainer>\r\n\r\n      <CardContainer>\r\n        <a href=\"#\" onClick={onSairClick}>Sair</a>\r\n      </CardContainer>\r\n\r\n    </Container>\r\n);\r\n\r\n/*\r\n      <CardContainer>\r\n          <a href=\"#\" onClick={onPedidosClick} className=\"consumme\">Pedidos</a>\r\n      </CardContainer>\r\n*/\r\n\r\n}\r\n\r\nconst MenuWINLETOH = () => {\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  \r\n  const [conta] = useState(getConta());\r\n  const [login] = useState(getLogin());\r\n\r\n  console.log(login);\r\n\r\n  const host = getHost();\r\n\r\n  const onCardapioClick = () => {\r\n    history.push({ pathname: `/cardapio/${id}` });\r\n  }\r\n\r\n  const onPedidosClick = () => {\r\n    history.push({ pathname: `/pedidos/${id}` });\r\n  }\r\n\r\n  const onInformacoesClick = () => {\r\n    history.push({ pathname: `/informacoes/${id}` });\r\n  }\r\n\r\n  const onSairClick = () => {\r\n    localStorage.setItem('login', null);\r\n    history.push({ pathname: `/${id}` });\r\n  }\r\n  \r\n  // https://api-sistema-mde.herokuapp.com\r\n\r\n  return (\r\n      <Container>\r\n\r\n        <ImgContainer>\r\n          <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n        </ImgContainer>\r\n\r\n        {\r\n          (login.login) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onInformacoesClick} className=\"requests\">Informações</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n\r\n        {\r\n          (login.cardapios === -1) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onCardapioClick} className=\"requests\">Cardápio</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n\r\n        <CardContainer>\r\n          <a href=\"#\" onClick={onSairClick}>Sair</a>\r\n        </CardContainer>\r\n\r\n      </Container>\r\n  );\r\n\r\n  /*\r\n        {\r\n          (login.login) ? '' : (\r\n            <CardContainer>\r\n              <a href=\"#\" onClick={onPedidosClick} className=\"consumme\">Pedidos</a>\r\n            </CardContainer>\r\n          )\r\n        }\r\n */\r\n\r\n}\r\n\r\nexport default function Menu() {\r\n\r\n  const { id }  = useParams();\r\n  const history = useHistory();\r\n  const [login] = useState(getLogin());\r\n  const [conta] = useState(getConta());\r\n  \r\n  useEffect(() => {\r\n    if (login == null) history.push({ pathname: `/entrar/${id}/${Date.now()}` });\r\n    console.log(login);\r\n  },[]);\r\n\r\n  return (\r\n    <div>\r\n      <MenuWINLETOM />\r\n      <Alarme  />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        conta.sistema === 'WINLETOM' ? ( <MenuWINLETOM /> ) : (\r\n          conta.sistema === 'WINRESTA' ? ( <MenuWINRESTA /> ) : ( <MenuWINLETOH /> )\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n  \r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  height: 80vh;\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n  background: #232129;\r\n  margin-top: 90px;\r\n  border-radius: 8px;\r\n\r\n  img {\r\n    border-radius: 8px;\r\n  }\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n    background: #232129;\r\n    border-radius: 5px;\r\n    width: 80%;\r\n    padding: 18px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center; \r\n    margin-top: 16px;\r\n\r\n    :hover {\r\n        background: ${shade(0.2, '#232129')}\r\n      } \r\n\r\n    a{\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      text-decoration: none;\r\n      color: #fff; \r\n      font-size: 26px;\r\n    }\r\n`;\r\n","// https://blog.heroku.com/deploying-react-with-zero-configuration\r\nimport React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport { shade } from 'polished';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport api from '../services/api';\r\nimport { \r\n  setLogin, \r\n  getConta, \r\n  getHost, \r\n  setMesaAtual, \r\n  setCardapioAtual,\r\n  setSuiteAtual,\r\n  getColab,\r\n  contaEncerrada } from '../utils/utils-context';\r\n\r\n  const Offline = () => {\r\n    return(\r\n      <div>\r\n\r\n      </div>\r\n    );\r\n\r\n  }\r\nconst EntrarWINLETOM = () => {\r\n\r\n  const host = getHost();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [suite, setSuite] = useState(''); //useState('9101'); // provisorio\r\n  const [cpf, setCPF] = useState(''); // // useState('10317046802'); // provisorio\r\n  const [conta] = useState(getConta());\r\n\r\n  return(\r\n    <Container>\r\n        <Content>\r\n        <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n        <form>\r\n            <h1>Entrar</h1>\r\n            {\r\n              conta.ativo === 'N' ? <p style={{ color: 'orange' }}>Serviço temporariamente for do ar!</p> : ''\r\n            }\r\n            <input \r\n              value={suite} \r\n              disabled={conta.ativo === 'N'}\r\n              onChange={(event) => {setSuite(event.target.value)}}            \r\n              placeholder=\"Suíte nº\"/>\r\n            <input \r\n              value={cpf} \r\n              disabled={conta.ativo === 'N'}\r\n              onChange={(event) => {setCPF(event.target.value)}}            \r\n              placeholder=\"Documento (somente dígitos)\"/>\r\n\r\n            <button onClick={(event) => {\r\n\r\n                event.preventDefault();\r\n              \r\n                if (conta.ativo === 'N') {\r\n                  history.push({ pathname: `/${id}/${Date.now()}` });\r\n                  return;\r\n                }\r\n                \r\n                const data = (suite == 0) \r\n                  ? { id: id, login: null, senha: cpf }\r\n                  : { id: id, suite: suite, cpf: cpf };\r\n\r\n                api.post('/api/entrar', data).then(response => {\r\n\r\n                  // Provisório \r\n                  //response.data.perfil = 'camareira';\r\n                  \r\n                  console.log('Login:', response.data);\r\n\r\n                  if (contaEncerrada(response.data)){\r\n                    history.push({ pathname: `/${id}` });\r\n                    return;\r\n                  }\r\n                  \r\n                  setLogin(response.data);\r\n                  setSuiteAtual(response.data.suite);\r\n\r\n                  history.push({ pathname: `/menu/${id}/${Date.now()}` });\r\n\r\n                }).catch((error) => {\r\n                    if (error.response) console.log(error.response.status);\r\n                });\r\n                \r\n            }}>\r\n              {\r\n                conta.ativo === 'S' ? 'Entrar' : 'Voltar' \r\n              }\r\n              </button>\r\n\r\n        </form>\r\n        </Content>\r\n    </Container>\r\n  )\r\n\r\n}\r\n\r\nconst EntrarWINRESTA = () => {\r\n\r\n  const host = getHost();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [usuario, setUsuario] = useState('padrao');\r\n  const [senha, setSenha] = useState('');\r\n  const [conta] = useState(getConta());\r\n\r\n  /*\r\n    <input \r\n    value={usuario} \r\n    onChange={(event) => {setUsuario(event.target.value)}}            \r\n    placeholder=\"Usuário\" />\r\n  */\r\n\r\n    return(\r\n    <Container>\r\n        <Content>\r\n        <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n        <form>\r\n            <h1>Entrar</h1>\r\n            <input \r\n              type='password'\r\n              value={senha} \r\n              onChange={(event) => {setSenha(event.target.value)}}            \r\n              placeholder=\"Senha\"/>\r\n            <button onClick={(event) => {\r\n                event.preventDefault();\r\n                api.post('/api/entrar', { \r\n                  id: id,\r\n                  login: usuario, \r\n                  senha: senha,\r\n                }).then(response => {\r\n                  console.log('Login:', response.data);\r\n                  setLogin(response.data);\r\n                  setMesaAtual(null);\r\n                  history.push({ pathname: `/menu/${id}` });\r\n                }).catch((error) => {\r\n                    if (error.response) console.log(error.response.status);\r\n                });\r\n            }}>Entrar\r\n            </button>\r\n        </form>\r\n        </Content>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst EntrarWINLETOH = () => {\r\n  const host = getHost();\r\n  const [conta] = useState(getConta());\r\n\r\n  return (\r\n    <Container>\r\n        <Content>\r\n          <img src={`${host}/api/logo/${conta.codigo}`}  alt=\"logo\" />\r\n        </Content>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default function Entrar() {\r\n\r\n  const { id } = useParams();\r\n  \r\n  const history = useHistory();\r\n  const [login] = useState(null); //getLogin());\r\n  const [colab] = useState(getColab());\r\n  const [conta] = useState(getConta());\r\n  \r\n  console.log('Conta:', conta);\r\n\r\n  useEffect(() => {\r\n    setCardapioAtual(null);\r\n    setSuiteAtual(null);\r\n    document.title = conta.hotel;\r\n  },[]);\r\n\r\n  return <EntrarWINLETOM />;\r\n  \r\n  return (\r\n    (conta.sistema == 'WINRESTA' || colab) ? ( <EntrarWINRESTA /> ) : (<EntrarWINLETOM />)\r\n  )\r\n\r\n}\r\n\r\n//    conta.sistema === 'WINLETOM' ? ( <EntrarWINLETOM /> ) : (\r\n//  conta.sistema === 'WINRESTA' ? ( <EntrarWINRESTA /> ) : ( <EntrarWINLETOM /> )\r\n//  )\r\n\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n\r\n  place-content: center;\r\n\r\n  width: 100%;\r\n  max-width: 700px;\r\n\r\n  img {\r\n    border-radius:7px;\r\n  }\r\n\r\n  form {\r\n    margin: 80px 0;\r\n    width: 340px;\r\n    text-align: center;\r\n\r\n    h1 {\r\n      margin-bottom: 24px;\r\n    }\r\n\r\n    input {\r\n      background: #232129;\r\n      border-radius: 10px;\r\n      padding: 16px;\r\n      width: 100%;\r\n\r\n      color: #666360;\r\n      border: 2px solid #232129;\r\n\r\n      display: flex;\r\n      align-items: center;\r\n      margin-top: 8px;\r\n      \r\n    }\r\n\r\n    button {\r\n      background: #ff9000;\r\n      height: 56px;\r\n      border-radius: 10px;\r\n      border: 0;\r\n      padding: 0 16px;\r\n      color: #312e38;\r\n      width: 100%;\r\n      font-weight: 500;\r\n      margin-top:16px;\r\n      transition: background-color 0.2s;\r\n      font-weight: bold;\r\n\r\n      &:hover {\r\n        background:${shade(0.2, '#ff9000')};\r\n      }\r\n    }\r\n  }\r\n\r\n  > a {\r\n    color: #ff9000;\r\n    display: block;\r\n    margin-top: 24px;\r\n    text-decoration: none;\r\n    transition: color 0.2s;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    &:hover {\r\n      color: ${shade(0.2, '#ff9000')}\r\n    }\r\n  }\r\n`;\r\n\r\n/*\r\nconst Background = styled.div`\r\n  flex: 1;\r\n  background: url(${hotelImg}) no-repeat center;\r\n  background-size: cover;\r\n`;\r\n*/\r\n","import React from 'react';\r\nimport {\r\n\tBrowserRouter,\r\n\tSwitch,\r\n\tRoute,\r\n} from \"react-router-dom\";\r\n\r\n//import Home from './pages/Home';\r\nimport QrCodeAuth from './pages/QrCodeAuth';\r\nimport Home       from './pages/Home';\r\n//import Product from './pages/Product/Product';\r\n\r\nimport Cardapio from './components/Cardapio';\r\nimport Apartamentos from './components/Apartamentos';\r\nimport AdicionaItem from './components/AdicionaItem';\r\nimport Pedidos from './components/Pedidos';\r\nimport Informacoes from './components/Informacoes';\r\nimport Servicos from './components/Servicos';\r\nimport Notificacoes from './components/Notificacoes';\r\nimport Menu from './components/Menu';\r\nimport Entrar from './components/Entrar';\r\n\r\nfunction Routes() {\r\n\r\n\treturn (\r\n\t\t<BrowserRouter>\r\n\t\t\t<Switch>\r\n\r\n\t\t\t\t<Route path=\"/login/:id\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/home/:id\">\r\n\t\t\t\t\t<Home />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/home/:id/:rnd\">\r\n\t\t\t\t\t<Home />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/menu/:id\">\r\n\t\t\t\t\t<Menu />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/entrar/:id\">\r\n\t\t\t\t\t<Entrar />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/entrar/:id/:rnd\">\r\n\t\t\t\t\t<Entrar />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/cardapio/:id\">\r\n\t\t\t\t\t<Cardapio />\r\n\t\t\t\t</Route>\r\n\t\t\t\t\r\n\t\t\t\t<Route path=\"/apartamentos/:id\">\r\n\t\t\t\t\t<Apartamentos />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/adiciona/:id\">\r\n\t\t\t\t\t<AdicionaItem />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/pedidos/:id\">\r\n\t\t\t\t\t<Pedidos />\r\n\t\t\t\t</Route>\r\n\t\t\t\t\r\n\t\t\t\t<Route path=\"/informacoes/:id\">\r\n\t\t\t\t\t<Informacoes />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/servicos/:id\">\r\n\t\t\t\t\t<Servicos />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/notificacoes/:id\">\r\n\t\t\t\t\t<Notificacoes />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/:id\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route exact path=\"/:id/:rnd\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t\t<Route path=\"/\">\r\n\t\t\t\t\t<QrCodeAuth />\r\n\t\t\t\t</Route>\r\n\r\n\t\t\t</Switch>\r\n\t\t</BrowserRouter>\r\n\t);\r\n}\r\n\r\nexport default Routes;","import Routes from './routes';\r\n\r\nimport './styles/global.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <Routes />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","//import api from '../../services/api';\r\n\r\n//Esse é o estado inicial, ou seja, assim que o Componente abriu e não consultou nada.\r\nconst initial_state = {\r\n  id: \"\",\r\n  total: 0,\r\n  pedidos: [\r\n    {\r\n      id: 0,\r\n      numero: \"0\",\r\n      realizado: \"\",\r\n      atendido: \"\",\r\n      total: 0,\r\n      produtos: [\r\n        {\r\n          produto: \"\",\r\n          tipo: \"\",\r\n          quantidade: \"0\",\r\n          preco: \"0\",\r\n          total: 0,\r\n          nota: \"\",\r\n          id: 0,\r\n        }\r\n      ],\r\n    }\r\n  ]\r\n};\r\n\r\n//Aqui cria-se um TYPE somente para ficar fácil de usar o mesmo nome nas actions.\r\nexport const actionsTypes = {\r\n  GET_CONSUMMATIONS: 'CONSUMMATIONS/GET',\r\n  INSERT_ORDER: \"CONSUMMATIONS/INSERT_ORDER\",\r\n  DELETE_ORDER: \"CONSUMMATIONS/DELETE_ORDER\"\r\n};\r\n\r\n//Aqui está listando todas as actions de consummations\r\nexport const actions = {\r\n  //Essa é a primeira action, que recebe o consumer por parametro para buscar suas consumações na API.\r\n  getConsummations: payload => {\r\n    return ({\r\n      //Esse aqui é o TYPE ali de cima, ou seja é uma action que Busca.\r\n      type: actionsTypes.GET_CONSUMMATIONS,\r\n      //O Payload é o resultado da api que vai ser usado no reducer, ou seja no estado global.\r\n      payload\r\n    });\r\n  },\r\n  insertOrder: payload => {\r\n    return ({\r\n      type: actionsTypes.INSERT_ORDER,\r\n      payload\r\n    })\r\n  }, \r\n  deleteOrder: payload => {\r\n    return({\r\n      type: actionsTypes.DELETE_ORDER,\r\n      payload\r\n    })\r\n  }\r\n};\r\n\r\n//Esse é o reducer em si, cada CASE, é referente a uma action.\r\nconst consummationReducer = (state = initial_state, action) => {\r\n  switch (action.type) {\r\n    //Esse actions chamará a action ali de cima, recebendo um valor no PAYLOAD.\r\n    case actionsTypes.GET_CONSUMMATIONS:\r\n      //Aqui ele verificou qual é a action, e seta no estado global, a resposta do Payload.\r\n      return action.payload;\r\n    case actionsTypes.INSERT_ORDER:\r\n      let novoState = state;\r\n      let novasOrdens = state.orders;\r\n      novasOrdens.push(action.payload);\r\n      novoState.orders = novasOrdens;\r\n      return novoState;\r\n    default:\r\n      //Por padrão se não tiver alteração o reducer devolve o state já existente.\r\n      return state\r\n  }\r\n};\r\n\r\nexport default consummationReducer;","import { createStore, combineReducers } from 'redux';\r\nimport consummationReducer from './consummation/Consummation.reducer';\r\n\r\n//Aqui combina todos os reducers.\r\nconst rootReducer = combineReducers({\r\n  consummations: consummationReducer\r\n});\r\n\r\n//Função do proprio redux para criar o Global State.\r\nconst store = createStore(rootReducer);\r\n\r\nexport default store","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n//Provider é obrigatório importar, para o redux;\r\nimport { Provider } from 'react-redux'\r\n//Esse é o import do store, ou seja do corpo dos reducers.\r\nimport store from './store/store'\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <Provider store={ store }>\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\nreportWebVitals();\r\n"],"sourceRoot":""}